[summary]
Missing 75% of instantiations
[per-qid]
|unknown.0:0|: 488
|funType:MapType0Select|: 44
|DafnyPreludebpl.250:15|: 14
|funType:#Buffers.BufferStack.BufferStack|: 8
|DafnyPreludebpl.1419:51|: 30
|funType:#Buffers.Buffer.Buffer|: 12
|Buffersidfy.25:28|: 84
|DafnyPreludebpl.1025:18|: 7
|MessagesdfyValueMessage.17:14|: 124
|funType:$Unbox|: 102
|Buffersidfy.41:14|: 74
|funType:DatatypeCtorId|: 62
|MessagesdfyValueMessage.18:14|: 64
|Buffersidfy.16:19|: 3
|DafnyPreludebpl.235:11|: 40
|DafnyPreludebpl.233:15|: 19
|funType:$Box|: 66
|funType:ValueMessage.Message.delta|: 11
|TotalMapsdfyTotalKMMapMod.21:28|: 2
|DafnyPreludebpl.141:18|: 66
|DafnyPreludebpl.1159:21|: 11
|cast:U_2_bool|: 29
|MessagesdfyValueMessage.27:25|: 42
|funType:#_System._tuple#2._#Make2|: 35
|DafnyPreludebpl.89:29|: 15
|Buffersidfy.39:38|: 68
|cast:U_2_int|: 4
|DafnyPreludebpl.221:11|: 25
|DafnyPreludebpl.1114:15|: 30
|funType:Buffers.BufferStack.QueryUpTo|: 40
|funType:ValueMessage.Message.value|: 22
|funType:Buffers.Buffer.mapp|: 20
|MessagesdfyValueMessage.20:33|: 15
|Buffersidfy.58:14|: 3
|DafnyPreludebpl.181:18|: 41
|funType:ValueMessage.__default.ApplyDelta|: 6
|DafnyPreludebpl.929:18|: 18
|funType:bool_2_U|: 11
|MessagesdfyValueMessage.24:30|: 12
|DafnyPreludebpl.259:19|: 20
|typeInv:U_2_bool|: 11
|DafnyPreludebpl.1183:20|: 3
|DafnyPreludebpl.1273:35|: 7
|funType:Map#Empty|: 2
|funType:ValueMessage.__default.Merge|: 20
|funType:Buffers.Buffer.Query|: 15
|DafnyPreludebpl.1204:15|: 3
|DafnyPreludebpl.256:15|: 11
|funType:Seq#Index|: 35
|DafnyPreludebpl.1270:21|: 10
|DafnyPreludebpl.979:18|: 13
|DafnyPreludebpl.184:18|: 36
|DafnyPreludebpl.925:18|: 18
|DafnyPreludebpl.267:19|: 18
|DafnyPreludebpl.1272:35|: 7
|DafnyPreludebpl.1020:18|: 7
|funType:Lit|: 15
|DafnyPreludebpl.352:15|: 34
|Buffersidfy.27:14|: 30
|funType:#ValueMessage.Message.Define|: 40
|funType:ValueMessage.__default.CombineDeltas|: 7
|funType:Map#Elements|: 7
|DafnyPreludebpl.252:11|: 21
|DafnyPreludebpl.264:15|: 9
|funType:Map#Values|: 11
|DafnyPreludebpl.1037:18|: 8
|DafnyPreludebpl.272:15|: 11
|funType:_System.Tuple2._1|: 19
|PagedBetreeRefinementidfy.89:21|: 11
|funType:Map#Domain|: 13
|funType:_System.Tuple2._0|: 19
|funType:#ValueMessage.Message.Update|: 16
|DafnyPreludebpl.1414:30|: 9
|typeInv:U_2_int|: 4
|DafnyPreludebpl.1162:21|: 11
|DafnyPreludebpl.219:15|: 33
|PagedBetreeidfy.49:15|: 2
|DafnyPreludebpl.904:18|: 1
|DafnyPreludebpl.1156:21|: 13
|funType:Map#Items|: 11
|DafnyPreludebpl.1275:21|: 10
|funType:Buffers.BufferStack.buffers|: 2
|DafnyPreludebpl.1418:51|: 5
|funType:#PagedBetree.ChildMap.ChildMap|: 1
|DafnyPreludebpl.1212:21|: 2
|Buffersidfy.48:14|: 4
|DafnyPreludebpl.1035:18|: 1
|DafnyPreludebpl.1120:18|: 1
|DafnyPreludebpl.90:18|: 1
|DafnyPreludebpl.974:18|: 2
|DafnyPreludebpl.1420:51|: 1
|funType:int_2_U|: 4
|funType:Sequences.__default.DropLast|: 1
|DafnyPreludebpl.1130:18|: 1
|funType:Seq#Take|: 1
|DafnyPreludebpl.1023:13|: 2
|funType:MultiSet#Union|: 1
|funType:Buffers.BufferStack.PushBufferStack|: 1
|PagedBetreeidfy.48:32|: 4
|funType:Seq#Append|: 2
|DafnyPreludebpl.1413:30|: 1
|funType:Buffers.BufferStack.Query|: 2
|funType:$LS|: 1
[per-category]
Category.UNKNOWN: 488
Category.FUN_TYPE: 685
Category.PRELUDE: 646
Category.USER: 542
Category.BUILTIN: 48
[missing]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), a@@122 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (U_2_int ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))), x@@48 = 0]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@0, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))), a@@67 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@317 = $LZ]
|MessagesdfyValueMessage.17:14| (or (= ($IsAlloc (|#ValueMessage.Message.Define| |a#3#0#0@@0|) Tclass.ValueMessage.Message $h@@76) ($IsAlloc |a#3#0#0@@0| Tclass.ValueType.Value $h@@76)) (not (= (type $h@@76) (type $OneHeap))) (not (= (type |a#3#0#0@@0|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@76))) [$h@@76 = $Heap@0, |a#3#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##0@0|, |key#0@@34| = |key#0@@75|, this@@73 = |b##0@0|, $ly@@317 = $LZ]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#0#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.16:19| (or (not (= (type |keys#0@@2|) (MapType0Type BoxType boolType))) (not (or (|Buffers.__default.Total#canCall| (Lit |keys#0@@2|)) ($Is |keys#0@@2| (TISet Tclass.KeyType.Key)))) (not (or (not (QUANT ((|k#1@@12| T@U)) (! (or (|Buffers.__default.AnyKey#canCall| |k#1@@12|) (not (= (type |k#1@@12|) (type |key#0@@75|))) (not ($Is |k#1@@12| Tclass.KeyType.Key))) :qid |Buffersidfy.17:12| :pattern ((MapType0Select |keys#0@@2| ($Box |k#1@@12|))) :pattern ((Buffers.__default.AnyKey |k#1@@12|))))) (not (or (not (Buffers.__default.Total (Lit |keys#0@@2|))) (QUANT ((|k#1@@13| T@U)) (! (or (U_2_bool (MapType0Select (Lit |keys#0@@2|) ($Box |k#1@@13|))) (not (Buffers.__default.AnyKey |k#1@@13|)) (not (= (type |k#1@@13|) (type |key#0@@75|))) (not ($Is |k#1@@13| Tclass.KeyType.Key))) :qid |Buffersidfy.17:12| :pattern ((MapType0Select |keys#0@@2| ($Box |k#1@@13|))) :pattern ((Buffers.__default.AnyKey |k#1@@13|)))))) (not (or (Buffers.__default.Total (Lit |keys#0@@2|)) (not (or (U_2_bool (MapType0Select (Lit |keys#0@@2|) ($Box (|k#1@@13!2940!282| |keys#0@@2|)))) (not (= (type (|k#1@@13!2940!282| |keys#0@@2|)) (type |key#0@@75|))) (not ($Is (|k#1@@13!2940!282| |keys#0@@2|) Tclass.KeyType.Key)) (not (Buffers.__default.AnyKey (|k#1@@13!2940!282| |keys#0@@2|)))))))))) [|keys#0@@2| = (|IMap#Domain| (Lit (PagedBetree.ChildMap.mapp (Lit (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = |i#1@@29!1364!340|]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@@50, |s#0@@0| = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@319 = ($LS $LZ)]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@321 = $LZ]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@@50, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##0@0|, |key#0@@36| = |key#0@@75|, this@@75 = |a##0@0|, $ly@@319 = ($LS $LZ)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|TotalMapsdfyTotalKMMapMod.21:28| (or (not (= (type |kvm#0@@7|) (type TotalKMMapMod.__default.Witness))) (not (or (|TotalKMMapMod.__default.TotalMapIsFull#canCall| (Lit |kvm#0@@7|)) ($Is |kvm#0@@7| (TIMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) (not (or (not (QUANT ((|k#1| T@U)) (! (or (not (= (type |k#1|) (type |key#0@@75|))) (not ($Is |k#1| Tclass.KeyType.Key)) (not (or (not (|TotalKMMapMod.__default.AnyKey#canCall| |k#1|)) (not (or (not (TotalKMMapMod.__default.AnyKey |k#1|)) (|TotalKMMapMod.__default.Defined#canCall| (Lit |kvm#0@@7|) |k#1|)))))) :qid |TotalMapsdfyTotalKMMapMod.22:12| :pattern ((TotalKMMapMod.__default.Defined |kvm#0@@7| |k#1|)) :pattern ((TotalKMMapMod.__default.AnyKey |k#1|))))) (not (or (not (TotalKMMapMod.__default.TotalMapIsFull (Lit |kvm#0@@7|))) (QUANT ((|k#1@@0| T@U)) (! (or (not (TotalKMMapMod.__default.AnyKey |k#1@@0|)) (TotalKMMapMod.__default.Defined (Lit |kvm#0@@7|) |k#1@@0|) (not (= (type |k#1@@0|) (type |key#0@@75|))) (not ($Is |k#1@@0| Tclass.KeyType.Key))) :qid |TotalMapsdfyTotalKMMapMod.22:12| :pattern ((TotalKMMapMod.__default.Defined |kvm#0@@7| |k#1@@0|)) :pattern ((TotalKMMapMod.__default.AnyKey |k#1@@0|)))))) (not (or (TotalKMMapMod.__default.TotalMapIsFull (Lit |kvm#0@@7|)) (not (or (not (= (type (|k#1@@0!2049!226| |kvm#0@@7|)) (type |key#0@@75|))) (TotalKMMapMod.__default.Defined (Lit |kvm#0@@7|) (|k#1@@0!2049!226| |kvm#0@@7|)) (not ($Is (|k#1@@0!2049!226| |kvm#0@@7|) Tclass.KeyType.Key)) (not (TotalKMMapMod.__default.AnyKey (|k#1@@0!2049!226| |kvm#0@@7|)))))))))) [|kvm#0@@7| = (|IMap#Glue| (|lambda#4| Tclass.KeyType.Key) (|lambda#101| ($Box (Lit (Lit (Lit (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType)))))))))) (TIMap Tclass.KeyType.Key Tclass.ValueMessage.Message))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), x@@48 = 0]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.Query |top#0| |key#0@@75|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|cast:U_2_int| (or (not (= (type x) intType)) (= (int_2_U (U_2_int x)) x)) [x = (int_2_U (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@10)))) [bx@@10 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), arg0@@546 = ($LS $LZ)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@0, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = |i#1@@27!1364!339|, x@@48 = 0]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))]
|Buffersidfy.58:14| (or ($Is (Buffers.BufferStack.PushBufferStack this@@88 |newBuffers#0|) Tclass.Buffers.BufferStack) (not (= (type |newBuffers#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type this@@88) (type |#_System._tuple#0._#Make0|))) (not (or (|Buffers.BufferStack.PushBufferStack#canCall| this@@88 |newBuffers#0|) (not (or (not ($Is |newBuffers#0| Tclass.Buffers.BufferStack)) (not ($Is this@@88 Tclass.Buffers.BufferStack))))))) [|newBuffers#0| = |top#0|, this@@88 = |dropBottom#0@0|]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers |b##0@0|)]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:ValueMessage.__default.ApplyDelta| (= (type (ValueMessage.__default.ApplyDelta arg0@@436 arg1@@180)) (type |key#0@@75|)) [arg1@@180 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), arg0@@436 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), |a#6#0#0@@5| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|)))]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|MessagesdfyValueMessage.24:30| (or (not (= (type |delta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@0|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0| |value#0@@0|) (not (or (not ($Is |value#0@@0| Tclass.ValueType.Value)) (not ($Is |delta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |delta#0| |#ValueMessage.Delta.NoDelta|)) (|Seq#Equal| (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) |value#0@@0|))) (not ($Is (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) Tclass.ValueType.Value))))) [|value#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), |delta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), s@@38 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|)))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@34) (ValueMessage.Message.Update_q d@@34) (not (= (type d@@34) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@34 Tclass.ValueMessage.Message))) [d@@34 = (Lit (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##0@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |b##0@0|, arg0@@546 = ($LS $LZ)]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), arg0@@546 = $LZ]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message)) (not (U_2_bool (MapType0Select (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##1@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |bottom#0|, arg0@@546 = ($LS $LZ)]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| |top#0|)]
|DafnyPreludebpl.1183:20| (or (not (= (type m@@18) (MapType (MapTypeInv0 (type m@@18)) (type v@@44)))) (not (or (not (or (not (U_2_bool (MapType0Select (|Map#Values| m@@18) v@@44))) (not (or (not (= (type (u@@5!630!34 v@@44 m@@18)) (MapTypeInv0 (type m@@18)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@18) (u@@5!630!34 v@@44 m@@18)))) (not (= v@@44 (MapType0Select (|Map#Elements| m@@18) (u@@5!630!34 v@@44 m@@18)))))))) (not (or (U_2_bool (MapType0Select (|Map#Values| m@@18) v@@44)) (QUANT ((u@@5 T@U)) (! (or (not (= (type u@@5) (MapTypeInv0 (type m@@18)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@18) u@@5))) (not (= v@@44 (MapType0Select (|Map#Elements| m@@18) u@@5)))) :qid |DafnyPreludebpl.1185:10| :pattern ((MapType0Select (|Map#Domain| m@@18) u@@5)) :pattern ((MapType0Select (|Map#Elements| m@@18) u@@5))))))))) [v@@44 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), m@@18 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.1273:35| (or (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) u@@13))) (not (= (type u@@13) (MapTypeInv0 (type (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))))) (= (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) u@@13) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) u@@13))) [u@@13 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:Map#Empty| (= (type (|Map#Empty| U@@4 V@@4)) (MapType U@@4 V@@4)) [V@@4 = (MapTypeInv1 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), U@@4 = (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@34) (ValueMessage.Message.Update_q d@@34) (not (= (type d@@34) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@34 Tclass.ValueMessage.Message))) [d@@34 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.1204:15| (or (not (= (type item) BoxType)) (not (= (type m@@19) (MapType BoxType BoxType))) (not (= (or (not (U_2_bool (MapType0Select (|Map#Domain| m@@19) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) item))))) (not (= (MapType0Select (|Map#Elements| m@@19) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) item))) (_System.Tuple2._1 ($Unbox (type |#_System._tuple#0._#Make0|) item))))) (U_2_bool (MapType0Select (|Map#Items| m@@19) item))))) [item = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))), m@@19 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) |i#1@@27!1364!339|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) i) Tclass.Buffers.Buffer) (>= (+ i (* (- 1) (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))))) 0)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), arg0@@546 = $LZ]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@@50, t0@@7 = Tclass.Buffers.Buffer, v@@21 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))))))))))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), |a#6#0#0@@5| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = |i#1@@29!1364!340|, arg0@@50 = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##0@0|, |key#0@@34| = |key#0@@75|, this@@73 = |b##0@0|, $ly@@317 = ($LS $LZ)]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) i) Tclass.Buffers.Buffer)) [i = |i#1@@27!1364!339|]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers |a##0@0|)]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.Buffers.Buffer, v@@17 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType))))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))))]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) u@@12)))) [u@@12 = ($Box |key#0@@75|)]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|a#1#0#0@@4!2885!278| |top#0|)]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (Buffers.BufferStack.buffers |top#0|), s0@@2 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (|Seq#Empty| BoxType) i) Tclass.NativeTypes.byte) (>= (+ i (* (- 1) (|Seq#Length| (|Seq#Empty| BoxType)))) 0)) [i = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))))]
|MessagesdfyValueMessage.24:30| (or (not (= (type |delta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@0|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0| |value#0@@0|) (not (or (not ($Is |value#0@@0| Tclass.ValueType.Value)) (not ($Is |delta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |delta#0| |#ValueMessage.Delta.NoDelta|)) (|Seq#Equal| (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) |value#0@@0|))) (not ($Is (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) Tclass.ValueType.Value))))) [|value#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))), |delta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))))))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@@50)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@@50))))) [bx@@17 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@321 = $LZ]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@@50, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|)))]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (|a#7#0#0@@1!2015!224| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|cast:U_2_int| (or (not (= (type x) intType)) (= (int_2_U (U_2_int x)) x)) [x = ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@10)))) [bx@@10 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@12)))) [u@@12 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|MessagesdfyValueMessage.24:30| (or (= (ValueMessage.__default.ApplyDelta |delta#0@@1| |value#0@@2|) |value#0@@2|) (not (= (type |delta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@2|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0@@1| |value#0@@2|) (not (or (not ($Is |value#0@@2| Tclass.ValueType.Value)) (not ($Is |delta#0@@1| Tclass.ValueMessage.Delta))))))) [|value#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))), |delta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), $ly@@319 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|)))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|MessagesdfyValueMessage.24:30| (or (= (ValueMessage.__default.ApplyDelta |delta#0@@1| |value#0@@2|) |value#0@@2|) (not (= (type |delta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@2|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0@@1| |value#0@@2|) (not (or (not ($Is |value#0@@2| Tclass.ValueType.Value)) (not ($Is |delta#0@@1| Tclass.ValueMessage.Delta))))))) [|value#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))), |delta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@319 = $LZ]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) i) Tclass.NativeTypes.byte)) [i = (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), arg0@@50 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##0@0|, |key#0@@38| = |key#0@@75|, this@@77 = |b##0@0|, $ly@@321 = ($LS $LZ)]
|MessagesdfyValueMessage.24:30| (or (not (= (type |delta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@0|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0| |value#0@@0|) (not (or (not ($Is |value#0@@0| Tclass.ValueType.Value)) (not ($Is |delta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |delta#0| |#ValueMessage.Delta.NoDelta|)) (|Seq#Equal| (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) |value#0@@0|))) (not ($Is (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) Tclass.ValueType.Value))))) [|value#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))), |delta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), $ly@@321 = $LZ]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (ValueMessage.Message.value (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))), a@@67 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (U_2_int (int_2_U (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))), x@@48 = 0]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@0, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|unknown.0:0| (or (not (= (type d@@62) (type |#_System._tuple#0._#Make0|))) (not (Buffers.BufferStack.BufferStack_q d@@62)) (not (or (not (= (type (|a#1#0#0@@4!2885!278| d@@62)) (type |key#0@@75|))) (not (= d@@62 (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| d@@62))))))) [d@@62 = |top#0|]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))), a@@123 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#5#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#0#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), arg0@@546 = $LZ]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@28|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@28|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@28|))) (not (INTERNAL_lt_boogie |i#1@@28| |len##0@0|))) [|i#1@@28| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|)))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75|)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##1@0|, |key#0@@36| = |key#0@@75|, this@@75 = |bottom#0|, $ly@@319 = ($LS ($LS $LZ))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), arg0@@50 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@124 b@@73) (|ValueMessage.Delta#Equal| (ValueMessage.Message.delta a@@124) (ValueMessage.Message.delta b@@73))) (not (= (type b@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@124) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q b@@73)) (not (ValueMessage.Message.Update_q a@@124))) [b@@73 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)), a@@124 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type d@@31) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q d@@31)) (not (or (not (= (type (|a#7#0#0@@1!2015!224| d@@31)) (type |#_System._tuple#0._#Make0|))) (not (= d@@31 (|#ValueMessage.Message.Update| (|a#7#0#0@@1!2015!224| d@@31))))))) [d@@31 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = $LZ]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), a@@122 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (Lit |#ValueMessage.Delta.NoDelta|))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), |a#6#0#0@@5| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (= ($IsAlloc (|#ValueMessage.Message.Define| |a#3#0#0@@0|) Tclass.ValueMessage.Message $h@@76) ($IsAlloc |a#3#0#0@@0| Tclass.ValueType.Value $h@@76)) (not (= (type $h@@76) (type $OneHeap))) (not (= (type |a#3#0#0@@0|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@76))) [$h@@76 = $Heap@0, |a#3#0#0@@0| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), a@@122 = (ValueMessage.Message.delta (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), arg0@@50 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))), T@@0 = (type (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), T@@0 = (type |key#0@@75|)]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@28|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@28|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@28|))) (not (INTERNAL_lt_boogie |i#1@@28| |len##0@0|))) [|i#1@@28| = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (|a#7#0#0@@1!2015!224| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))), s0@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.Buffers.Buffer, v@@17 = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) |i#1@@29!1364!340|)]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (Buffers.BufferStack.buffers |a##0@0|)]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@12)))) [u@@12 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), $ly@@319 = $LZ]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.Buffers.Buffer, v@@17 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (|a#1#0#0@@4!2885!278| |bottom#0|))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))), $ly@@317 = $LZ]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (ValueMessage.Message.value (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), s0@@2 = (ValueMessage.Message.value (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)), x@@48 = |len##0@0|]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@33) (ValueMessage.Message.Update_q d@@33) (not (= (type d@@33) (type |#_System._tuple#0._#Make0|))) (not (|$IsA#ValueMessage.Message| d@@33))) [d@@33 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |bottom#0| |key#0@@75| |len##1@0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|typeInv:U_2_int| (= (U_2_int (int_2_U arg0)) arg0) [arg0 = (U_2_int ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)), x@@48 = 0]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = ($LS $LZ)]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|)]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), s@@38 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|typeInv:U_2_int| (= (U_2_int (int_2_U arg0)) arg0) [arg0 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), a@@123 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|PagedBetreeidfy.49:15| (or (not (= (type this@@127) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@334) (type $LZ))) (not (or (|PagedBetree.ChildMap.WF#canCall| this@@127) ($Is this@@127 Tclass.PagedBetree.ChildMap))) (not (or (not (PagedBetree.ChildMap.ChildMap_q this@@127)) (not (|Buffers.__default.Total#canCall| (|IMap#Domain| (PagedBetree.ChildMap.mapp this@@127)))) (not (or (not (Buffers.__default.Total (|IMap#Domain| (PagedBetree.ChildMap.mapp this@@127)))) (QUANT ((|k#0@@80| T@U)) (! (or (not (= (type |k#0@@80|) (type |key#0@@75|))) (not ($Is |k#0@@80| Tclass.KeyType.Key)) (not (or (not (|Buffers.__default.AnyKey#canCall| |k#0@@80|)) (not (or (not (Buffers.__default.AnyKey |k#0@@80|)) (not (or (not (PagedBetree.ChildMap.ChildMap_q this@@127)) (not (|PagedBetree.BetreeNode.WF#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@127)) ($Box |k#0@@80|)))))))))))) :qid |PagedBetreeidfy.51:18| :pattern (($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@127)) ($Box |k#0@@80|)))) :pattern ((Buffers.__default.AnyKey |k#0@@80|)))))) (not (or (not (PagedBetree.ChildMap.WF ($LS $ly@@334) this@@127)) (not (or (not (Buffers.__default.Total (|IMap#Domain| (PagedBetree.ChildMap.mapp this@@127)))) (not (QUANT ((|k#0@@81| T@U)) (! (or (not (Buffers.__default.AnyKey |k#0@@81|)) (PagedBetree.BetreeNode.WF $ly@@334 ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@127)) ($Box |k#0@@81|)))) (not (= (type |k#0@@81|) (type |key#0@@75|))) (not ($Is |k#0@@81| Tclass.KeyType.Key))) :qid |PagedBetreeidfy.51:18| :pattern (($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@127)) ($Box |k#0@@81|)))) :pattern ((Buffers.__default.AnyKey |k#0@@81|))))))))) (not (or (PagedBetree.ChildMap.WF ($LS $ly@@334) this@@127) (not (Buffers.__default.Total (|IMap#Domain| (PagedBetree.ChildMap.mapp this@@127)))) (not (or (not (= (type (|k#0@@81!3068!292| this@@127 $ly@@334)) (type |key#0@@75|))) (PagedBetree.BetreeNode.WF $ly@@334 ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@127)) ($Box (|k#0@@81!3068!292| this@@127 $ly@@334))))) (not ($Is (|k#0@@81!3068!292| this@@127 $ly@@334) Tclass.KeyType.Key)) (not (Buffers.__default.AnyKey (|k#0@@81!3068!292| this@@127 $ly@@334)))))))))) [this@@127 = (PagedBetree.__default.ConstantChildMap (Lit |#PagedBetree.BetreeNode.Nil|)), $ly@@334 = $LZ]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@31) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q d@@31)) (not (or (not (= (type (|a#7#0#0@@1!2015!224| d@@31)) (type |#_System._tuple#0._#Make0|))) (not (= d@@31 (|#ValueMessage.Message.Update| (|a#7#0#0@@1!2015!224| d@@31))))))) [d@@31 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|DafnyPreludebpl.1273:35| (or (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13))) (not (= (type u@@13) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@13))) [u@@13 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (Buffers.BufferStack.BufferStack_q d@@65) (not (= (type d@@65) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@65 Tclass.Buffers.BufferStack))) [d@@65 = (Buffers.BufferStack.PushBufferStack (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##0@0|, |key#0@@38| = |key#0@@75|, this@@77 = |a##0@0|, $ly@@321 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = |key#0@@75|]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), T@@0 = (type |key#0@@75|)]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##1@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |dropBottom#0@0|, arg0@@546 = ($LS ($LS $LZ))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))), arg0@@50 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|)))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@@50, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@30|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@30|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@30|))) (not (INTERNAL_lt_boogie |i#1@@30| |len##1@0|))) [|i#1@@30| = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))))))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = |#ValueMessage.Delta.NoDelta|, a@@121 = (Lit |#ValueMessage.Delta.NoDelta|)]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#5#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##0@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |a##0@0|, arg0@@546 = ($LS $LZ)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), T@@0 = (type |key#0@@75|)]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))), T@@0 = intType]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))), x@@48 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (= ($IsAlloc (|#ValueMessage.Message.Define| |a#3#0#0@@0|) Tclass.ValueMessage.Message $h@@76) ($IsAlloc |a#3#0#0@@0| Tclass.ValueType.Value $h@@76)) (not (= (type $h@@76) (type $OneHeap))) (not (= (type |a#3#0#0@@0|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@76))) [$h@@76 = $Heap@0, |a#3#0#0@@0| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|)), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@29!1364!340|))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##0@0|, |key#0@@34| = |key#0@@75|, this@@73 = |a##0@0|, $ly@@317 = ($LS $LZ)]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#7#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = $LZ]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message)) (not (U_2_bool (MapType0Select (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@10)))) [bx@@10 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@319 = ($LS $LZ)]
|MessagesdfyValueMessage.24:30| (or (not (= (type |delta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@0|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0| |value#0@@0|) (not (or (not ($Is |value#0@@0| Tclass.ValueType.Value)) (not ($Is |delta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |delta#0| |#ValueMessage.Delta.NoDelta|)) (|Seq#Equal| (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) |value#0@@0|))) (not ($Is (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) Tclass.ValueType.Value))))) [|value#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))), |delta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:ValueMessage.__default.ApplyDelta| (= (type (ValueMessage.__default.ApplyDelta arg0@@436 arg1@@180)) (type |key#0@@75|)) [arg1@@180 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))), arg0@@436 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##0@0|, |key#0@@34| = |key#0@@75|, this@@73 = |a##0@0|, $ly@@317 = $LZ]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.904:18| (or (= (|MultiSet#FromSeq| (|Seq#Append| a@@66 b@@50)) (|MultiSet#Union| (|MultiSet#FromSeq| a@@66) (|MultiSet#FromSeq| b@@50))) (not (= (type a@@66) (SeqType (SeqTypeInv0 (type a@@66))))) (not (= (type b@@50) (SeqType (SeqTypeInv0 (type a@@66)))))) [b@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), a@@66 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|Buffersidfy.39:38| (or (not (= (type |a#2#0#0@@4|) (type |key#0@@75|))) (= ($Is (|#Buffers.BufferStack.BufferStack| |a#2#0#0@@4|) Tclass.Buffers.BufferStack) ($Is |a#2#0#0@@4| (TSeq Tclass.Buffers.Buffer)))) [|a#2#0#0@@4| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#10#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (|#ValueMessage.Message.Update| (Lit |a#10#0#0@@0|)) (Lit (|#ValueMessage.Message.Update| |a#10#0#0@@0|)))) [|a#10#0#0@@0| = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = $LZ]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) u@@12)))) [u@@12 = ($Box |key#0@@75|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = |#ValueMessage.Delta.NoDelta|, a@@122 = (Lit |#ValueMessage.Delta.NoDelta|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), arg0@@50 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@38| = |key#0@@75|, this@@77 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@321 = $LZ]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#0#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = $LZ]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.1273:35| (or (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13))) (not (= (type u@@13) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@13))) [u@@13 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@@50, t0@@7 = Tclass.Buffers.Buffer, v@@21 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|MessagesdfyValueMessage.24:30| (or (= (ValueMessage.__default.ApplyDelta |delta#0@@1| |value#0@@2|) |value#0@@2|) (not (= (type |delta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@2|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0@@1| |value#0@@2|) (not (or (not ($Is |value#0@@2| Tclass.ValueType.Value)) (not ($Is |delta#0@@1| Tclass.ValueMessage.Delta))))))) [|value#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))), |delta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), a@@67 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = |i#1@@27!1364!339|, arg0@@50 = (Buffers.BufferStack.buffers |b##0@0|)]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (|Seq#Length| (Buffers.BufferStack.buffers |top#0|))]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))), s0@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))))))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))), T@@0 = (type (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@28|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@28|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@28|))) (not (INTERNAL_lt_boogie |i#1@@28| |len##0@0|))) [|i#1@@28| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##1@0|, |key#0@@38| = |key#0@@75|, this@@77 = |dropBottom#0@0|, $ly@@321 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._0 d@@2) |_System._tuple#2$T0@@5| $h@@19) (not (= (type |_System._tuple#2$T0@@5|) (type TBool))) (not (= (type $h@@19) (type $OneHeap))) (not (= (type d@@2) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@19)) (not (_System.Tuple2.___hMake2_q d@@2)) (QUANT ((|_System._tuple#2$T1@@5| T@U)) (! (or (not (= (type |_System._tuple#2$T1@@5|) (type TBool))) (not ($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))) :qid |unknown.0:0| :pattern (($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))))) [$h@@19 = $Heap@@50, |_System._tuple#2$T0@@5| = Tclass.KeyType.Key, d@@2 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|cast:U_2_int| (or (not (= (type x) intType)) (= (int_2_U (U_2_int x)) x)) [x = ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), arg0@@546 = $LZ]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#10#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (|#ValueMessage.Message.Update| (Lit |a#10#0#0@@0|)) (Lit (|#ValueMessage.Message.Update| |a#10#0#0@@0|)))) [|a#10#0#0@@0| = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) i) Tclass.Buffers.Buffer) (>= (+ i (* (- 1) (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))))) 0)) [i = |i#1@@27!1364!339|]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|)))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@317 = $LZ]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@28|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@28|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@28|))) (not (INTERNAL_lt_boogie |i#1@@28| |len##0@0|))) [|i#1@@28| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (Buffers.BufferStack.buffers |top#0|), a@@67 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (|a#7#0#0@@1!2015!224| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = $LZ]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), a@@121 = (ValueMessage.Message.delta (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), arg0@@546 = ($LS $LZ)]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message)) (not (U_2_bool (MapType0Select (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@10)))) [bx@@10 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = $LZ]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#6#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#8#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = $LZ]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@33) (ValueMessage.Message.Update_q d@@33) (not (= (type d@@33) (type |#_System._tuple#0._#Make0|))) (not (|$IsA#ValueMessage.Message| d@@33))) [d@@33 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|funType:Buffers.BufferStack.buffers| (= (type (Buffers.BufferStack.buffers arg0@@545)) (type |key#0@@75|)) [arg0@@545 = |dropBottom#0@0|]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1418:51| (not (= (<= (+ y@@17 (* (- 1) x@@47)) 0) (INTERNAL_lt_boogie x@@47 y@@17))) [y@@17 = |len##0@0|, x@@47 = |i#1@@27!1364!339|]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@12)))) [u@@12 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))))))]
|Buffersidfy.39:38| (or (not (= (type |a#2#0#0@@4|) (type |key#0@@75|))) (= ($Is (|#Buffers.BufferStack.BufferStack| |a#2#0#0@@4|) Tclass.Buffers.BufferStack) ($Is |a#2#0#0@@4| (TSeq Tclass.Buffers.Buffer)))) [|a#2#0#0@@4| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@28|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@28|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@28|))) (not (INTERNAL_lt_boogie |i#1@@28| |len##0@0|))) [|i#1@@28| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), arg0@@50 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (ValueMessage.Message.value (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), a@@67 = (ValueMessage.Message.value (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@29!1364!340|)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), s@@38 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))))), arg0@@38 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@31) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q d@@31)) (not (or (not (= (type (|a#7#0#0@@1!2015!224| d@@31)) (type |#_System._tuple#0._#Make0|))) (not (= d@@31 (|#ValueMessage.Message.Update| (|a#7#0#0@@1!2015!224| d@@31))))))) [d@@31 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@317 = $LZ]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))), a@@121 = (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|Buffersidfy.58:14| (or (not (= (type |newBuffers#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type this@@90) (type |#_System._tuple#0._#Make0|))) (not (or (|Buffers.BufferStack.PushBufferStack#canCall| this@@90 |newBuffers#0@@1|) (not (or (not ($Is |newBuffers#0@@1| Tclass.Buffers.BufferStack)) (not ($Is this@@90 Tclass.Buffers.BufferStack)))))) (not (or (not (Buffers.BufferStack.BufferStack_q |newBuffers#0@@1|)) (not (Buffers.BufferStack.BufferStack_q this@@90)) (not (= (Buffers.BufferStack.PushBufferStack this@@90 |newBuffers#0@@1|) (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers |newBuffers#0@@1|) (Buffers.BufferStack.buffers this@@90)))))))) [|newBuffers#0@@1| = |top#0|, this@@90 = |dropBottom#0@0|]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|Buffersidfy.39:38| (or (not (= (type |a#2#0#0@@4|) (type |key#0@@75|))) (= ($Is (|#Buffers.BufferStack.BufferStack| |a#2#0#0@@4|) Tclass.Buffers.BufferStack) ($Is |a#2#0#0@@4| (TSeq Tclass.Buffers.Buffer)))) [|a#2#0#0@@4| = (|a#1#0#0@@4!2885!278| |top#0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:#PagedBetree.ChildMap.ChildMap| (= (type (|#PagedBetree.ChildMap.ChildMap| arg0@@562)) (type |#_System._tuple#0._#Make0|)) [arg0@@562 = (|a#34#0#0!3051!291| (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = (Lit (Lit (Lit (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType))))))))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@@50, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), s@@38 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1212:21| (not (U_2_bool (MapType0Select (|Map#Domain| (|Map#Empty| (type u@@6) V@@13)) u@@6))) [V@@13 = (MapTypeInv1 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))), u@@6 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:Map#Empty| (= (type (|Map#Empty| U@@4 V@@4)) (MapType U@@4 V@@4)) [V@@4 = (MapTypeInv1 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))), U@@4 = (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), a@@121 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))))))))))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))), arg0@@50 = (|Seq#Empty| BoxType)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#10#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (|#ValueMessage.Message.Update| (Lit |a#10#0#0@@0|)) (Lit (|#ValueMessage.Message.Update| |a#10#0#0@@0|)))) [|a#10#0#0@@0| = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))]
|Buffersidfy.48:14| (or ($Is (Buffers.BufferStack.Query this@@79 |key#0@@40|) Tclass.ValueMessage.Message) (not (= (type this@@79) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@40|) (type |key#0@@75|))) (not (or (|Buffers.BufferStack.Query#canCall| this@@79 |key#0@@40|) (not (or (not ($Is |key#0@@40| Tclass.KeyType.Key)) (not ($Is this@@79 Tclass.Buffers.BufferStack))))))) [|key#0@@40| = |key#0@@75|, this@@79 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))), x@@48 = (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@33) (ValueMessage.Message.Update_q d@@33) (not (= (type d@@33) (type |#_System._tuple#0._#Make0|))) (not (|$IsA#ValueMessage.Message| d@@33))) [d@@33 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), arg0@@50 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|TotalMapsdfyTotalKMMapMod.21:28| (or (not (= (type |kvm#0@@6|) (type TotalKMMapMod.__default.Witness))) (not (or (|TotalKMMapMod.__default.TotalMapIsFull#canCall| |kvm#0@@6|) ($Is |kvm#0@@6| (TIMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) (not (or (not (QUANT ((|k#0@@11| T@U)) (! (or (not (= (type |k#0@@11|) (type |key#0@@75|))) (not ($Is |k#0@@11| Tclass.KeyType.Key)) (not (or (not (|TotalKMMapMod.__default.AnyKey#canCall| |k#0@@11|)) (not (or (not (TotalKMMapMod.__default.AnyKey |k#0@@11|)) (|TotalKMMapMod.__default.Defined#canCall| |kvm#0@@6| |k#0@@11|)))))) :qid |TotalMapsdfyTotalKMMapMod.22:12| :pattern ((TotalKMMapMod.__default.Defined |kvm#0@@6| |k#0@@11|)) :pattern ((TotalKMMapMod.__default.AnyKey |k#0@@11|))))) (not (or (not (TotalKMMapMod.__default.TotalMapIsFull |kvm#0@@6|)) (QUANT ((|k#0@@12| T@U)) (! (or (not (TotalKMMapMod.__default.AnyKey |k#0@@12|)) (TotalKMMapMod.__default.Defined |kvm#0@@6| |k#0@@12|) (not (= (type |k#0@@12|) (type |key#0@@75|))) (not ($Is |k#0@@12| Tclass.KeyType.Key))) :qid |TotalMapsdfyTotalKMMapMod.22:12| :pattern ((TotalKMMapMod.__default.Defined |kvm#0@@6| |k#0@@12|)) :pattern ((TotalKMMapMod.__default.AnyKey |k#0@@12|)))))) (not (or (TotalKMMapMod.__default.TotalMapIsFull |kvm#0@@6|) (not (or (TotalKMMapMod.__default.Defined |kvm#0@@6| (|k#0@@12!2046!225| |kvm#0@@6|)) (not (= (type (|k#0@@12!2046!225| |kvm#0@@6|)) (type |key#0@@75|))) (not ($Is (|k#0@@12!2046!225| |kvm#0@@6|) Tclass.KeyType.Key)) (not (TotalKMMapMod.__default.AnyKey (|k#0@@12!2046!225| |kvm#0@@6|)))))))))) [|kvm#0@@6| = (Lit (|IMap#Glue| (|lambda#4| Tclass.KeyType.Key) (|lambda#101| ($Box (Lit (Lit (Lit (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType)))))))))) (TIMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = |i#1@@29!1364!340|, |a#6#0#0@@5| = (Buffers.BufferStack.buffers |bottom#0|)]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), arg0@@50 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = |i#1@@29!1364!340|, n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), arg0@@546 = $LZ]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#6#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = |i#1@@27!1364!339|, s@@38 = (Buffers.BufferStack.buffers |a##0@0|)]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@125 b@@74) (= a@@125 b@@74)) (not (= (type b@@74) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@125) (type |#_System._tuple#0._#Make0|)))) [b@@74 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), a@@125 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75|)]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), arg0@@546 = ($LS $LZ)]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.1418:51| (not (= (<= (+ y@@17 (* (- 1) x@@47)) 0) (INTERNAL_lt_boogie x@@47 y@@17))) [y@@17 = 256, x@@47 = (U_2_int ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), arg0@@38 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@30|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@30|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@30|))) (not (INTERNAL_lt_boogie |i#1@@30| |len##1@0|))) [|i#1@@30| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))), T@@0 = (type (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), s@@38 = (Buffers.BufferStack.buffers |a##0@0|)]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))), T@@0 = intType]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), |a#6#0#0@@5| = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|Buffersidfy.48:14| (or (not (= (type this@@81) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@42|) (type |key#0@@75|))) (not (or (|Buffers.BufferStack.Query#canCall| this@@81 |key#0@@42|) (not (or (not ($Is |key#0@@42| Tclass.KeyType.Key)) (not ($Is this@@81 Tclass.Buffers.BufferStack)))))) (not (or (not (Buffers.BufferStack.BufferStack_q this@@81)) (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@81 |key#0@@42| (|Seq#Length| (Buffers.BufferStack.buffers this@@81)))) (not (= (Buffers.BufferStack.Query this@@81 |key#0@@42|) (Buffers.BufferStack.QueryUpTo ($LS $LZ) this@@81 |key#0@@42| (|Seq#Length| (Buffers.BufferStack.buffers this@@81)))))))) [|key#0@@42| = |key#0@@75|, this@@81 = |dropBottom#0@0|]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), arg0@@50 = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), a@@121 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (Lit |#ValueMessage.Delta.NoDelta|))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))))))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@2| Tclass.ValueType.Value $h@@70) ($IsAlloc |s#0@@2| (TSeq Tclass.NativeTypes.byte) $h@@70)) (not (= (type $h@@70) (type $OneHeap))) (not (= (type |s#0@@2|) (type |key#0@@75|)))) [$h@@70 = $Heap@0, |s#0@@2| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = ($Box |key#0@@75|)]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._0 d@@2) |_System._tuple#2$T0@@5| $h@@19) (not (= (type |_System._tuple#2$T0@@5|) (type TBool))) (not (= (type $h@@19) (type $OneHeap))) (not (= (type d@@2) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@19)) (not (_System.Tuple2.___hMake2_q d@@2)) (QUANT ((|_System._tuple#2$T1@@5| T@U)) (! (or (not (= (type |_System._tuple#2$T1@@5|) (type TBool))) (not ($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))) :qid |unknown.0:0| :pattern (($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))))) [$h@@19 = $Heap@0, |_System._tuple#2$T0@@5| = Tclass.ValueMessage.Message, d@@2 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), T@@0 = (type (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@@50, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))) 0) ($IsBox (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))))))))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|)))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@61) (type |#_System._tuple#0._#Make0|))) (= (Buffers.BufferStack.BufferStack_q d@@61) (= (DatatypeCtorId d@@61) |##Buffers.BufferStack.BufferStack|))) [d@@61 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), s@@38 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@319 = $LZ]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = $LZ]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = |#ValueMessage.Delta.NoDelta|, a@@122 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), $ly@@317 = $LZ]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), s@@38 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@29!1364!340|))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.1183:20| (or (not (= (type m@@18) (MapType (MapTypeInv0 (type m@@18)) (type v@@44)))) (not (or (not (or (not (U_2_bool (MapType0Select (|Map#Values| m@@18) v@@44))) (not (or (not (= (type (u@@5!630!34 v@@44 m@@18)) (MapTypeInv0 (type m@@18)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@18) (u@@5!630!34 v@@44 m@@18)))) (not (= v@@44 (MapType0Select (|Map#Elements| m@@18) (u@@5!630!34 v@@44 m@@18)))))))) (not (or (U_2_bool (MapType0Select (|Map#Values| m@@18) v@@44)) (QUANT ((u@@5 T@U)) (! (or (not (= (type u@@5) (MapTypeInv0 (type m@@18)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@18) u@@5))) (not (= v@@44 (MapType0Select (|Map#Elements| m@@18) u@@5)))) :qid |DafnyPreludebpl.1185:10| :pattern ((MapType0Select (|Map#Domain| m@@18) u@@5)) :pattern ((MapType0Select (|Map#Elements| m@@18) u@@5))))))))) [v@@44 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), m@@18 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))))))))))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = |i#1@@27!1364!339|, arg0@@50 = (Buffers.BufferStack.buffers |a##0@0|)]
|DafnyPreludebpl.1035:18| (or (not (>= n@@11 0)) (= (|Seq#Length| (|Seq#Take| s@@27 n@@11)) n@@11) (not (= (type s@@27) (SeqType (SeqTypeInv0 (type s@@27))))) (not (<= (+ n@@11 (* (- 1) (|Seq#Length| s@@27))) 0))) [n@@11 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@27 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))), arg0@@50 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@30) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Update_q d@@30) (= (DatatypeCtorId d@@30) |##ValueMessage.Message.Update|))) [d@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|Buffersidfy.39:38| (or (= ($IsAlloc (|#Buffers.BufferStack.BufferStack| |a#3#0#0@@4|) Tclass.Buffers.BufferStack $h@@103) ($IsAlloc |a#3#0#0@@4| (TSeq Tclass.Buffers.Buffer) $h@@103)) (not (= (type $h@@103) (type $OneHeap))) (not (= (type |a#3#0#0@@4|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@103))) [$h@@103 = $Heap@@50, |a#3#0#0@@4| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), a@@121 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (Lit |#ValueMessage.Delta.NoDelta|))]
|DafnyPreludebpl.1120:18| (or (not (>= i@@23 0)) (not (= (type s@@40) (SeqType (SeqTypeInv0 (type s@@40))))) (>= (+ i@@23 (* (- 1) (|Seq#Length| s@@40))) 0) (not (<= (+ (|Seq#Rank| s@@40) (* (- 1) (|Seq#Rank| (|Seq#Take| s@@40 i@@23)))) 0))) [i@@23 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@40 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), T@@0 = (type |key#0@@75|)]
|DafnyPreludebpl.90:18| (= ($Box (Lit x@@9)) (Lit ($Box x@@9))) [x@@9 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|unknown.0:0| (or ($IsAlloc (ValueMessage.Message.value d@@29) Tclass.ValueType.Value $h@@77) (not (= (type d@@29) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@77) (type $OneHeap))) (not ($IsGoodHeap $h@@77)) (not (ValueMessage.Message.Define_q d@@29)) (not ($IsAlloc d@@29 Tclass.ValueMessage.Message $h@@77))) [$h@@77 = $Heap@0, d@@29 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.974:18| (or (= (+ (|Seq#Length| s1) (|Seq#Length| s0) (* (- 1) (|Seq#Length| (|Seq#Append| s0 s1)))) 0) (not (= (type s0) (SeqType (SeqTypeInv0 (type s0))))) (not (= (type s1) (SeqType (SeqTypeInv0 (type s0)))))) [s1 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.ValueMessage.Message) (not (U_2_bool (MapType0Select (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@10)))) [bx@@10 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@10)))) [bx@@10 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), arg0@@546 = $LZ]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|a#1#0#0@@4!2885!278| |top#0|)]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), s@@38 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), $ly@@319 = $LZ]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), arg0@@102 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.1420:51| (not (= (>= (+ y@@19 (* (- 1) x@@49)) 0) (INTERNAL_gt_boogie x@@49 y@@19))) [y@@19 = 0, x@@49 = (|Seq#Length| |##run#0@0|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), T@@0 = (type |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) |i#1@@27!1364!339|)]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@30|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@30|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@30|))) (not (INTERNAL_lt_boogie |i#1@@30| |len##1@0|))) [|i#1@@30| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:int_2_U| (= (type (int_2_U arg0@@0)) intType) [arg0@@0 = (U_2_int ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))))]
|Buffersidfy.39:38| (or (= ($IsAlloc (|#Buffers.BufferStack.BufferStack| |a#3#0#0@@4|) Tclass.Buffers.BufferStack $h@@103) ($IsAlloc |a#3#0#0@@4| (TSeq Tclass.Buffers.Buffer) $h@@103)) (not (= (type $h@@103) (type $OneHeap))) (not (= (type |a#3#0#0@@4|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@103))) [$h@@103 = $Heap@@50, |a#3#0#0@@4| = (|a#1#0#0@@4!2885!278| |top#0|)]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), arg0@@546 = $LZ]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), s@@38 = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (ValueMessage.Message.value (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))), s0@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) i) Tclass.NativeTypes.byte)) [i = (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@@50, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:Sequences.__default.DropLast| (= (type (Sequences.__default.DropLast arg0@@461 arg1@@199)) (type |key#0@@75|)) [arg1@@199 = (Buffers.BufferStack.buffers |bottom#0|), arg0@@461 = Tclass.Buffers.Buffer]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@2| Tclass.ValueType.Value $h@@70) ($IsAlloc |s#0@@2| (TSeq Tclass.NativeTypes.byte) $h@@70)) (not (= (type $h@@70) (type $OneHeap))) (not (= (type |s#0@@2|) (type |key#0@@75|)))) [$h@@70 = $Heap@0, |s#0@@2| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|a#1#0#0@@4!2885!278| (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@33) (ValueMessage.Message.Update_q d@@33) (not (= (type d@@33) (type |#_System._tuple#0._#Make0|))) (not (|$IsA#ValueMessage.Message| d@@33))) [d@@33 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |dropBottom#0@0| |key#0@@75| |len##1@0|)]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@34) (ValueMessage.Message.Update_q d@@34) (not (= (type d@@34) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@34 Tclass.ValueMessage.Message))) [d@@34 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), s@@38 = (Buffers.BufferStack.buffers |b##0@0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:int_2_U| (= (type (int_2_U arg0@@0)) intType) [arg0@@0 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|DafnyPreludebpl.1130:18| (or (not (= (type s@@43) (SeqType (SeqTypeInv0 (type s@@43))))) (= (|Seq#Take| s@@43 n@@23) (|Seq#Empty| (SeqTypeInv0 (type s@@43)))) (not (= n@@23 0))) [n@@23 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@43 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) i) Tclass.Buffers.Buffer) (>= (+ i (* (- 1) (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))))) 0)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#7#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1418:51| (not (= (<= (+ y@@17 (* (- 1) x@@47)) 0) (INTERNAL_lt_boogie x@@47 y@@17))) [y@@17 = 256, x@@47 = (U_2_int ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|), arg0@@372 = (Buffers.BufferStack.Query |top#0| |key#0@@75|)]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|)))) 0) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50)) [i@@0 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), x@@48 = 0]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|DafnyPreludebpl.1273:35| (or (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13))) (not (= (type u@@13) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@13))) [u@@13 = ($Box |key#0@@75|)]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)), a@@123 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), s@@38 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@125 b@@74) (= a@@125 b@@74)) (not (= (type b@@74) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@125) (type |#_System._tuple#0._#Make0|)))) [b@@74 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |b##0@0| |key#0@@75| |len##0@0|), a@@125 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |a##0@0| |key#0@@75| |len##0@0|)]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = ($LS $LZ)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), s@@38 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@125 b@@74) (= a@@125 b@@74)) (not (= (type b@@74) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@125) (type |#_System._tuple#0._#Make0|)))) [b@@74 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |bottom#0| |key#0@@75| |len##1@0|), a@@125 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |dropBottom#0@0| |key#0@@75| |len##1@0|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), a@@123 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) i) Tclass.Buffers.Buffer) (>= (+ i (* (- 1) (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))))) 0)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), s@@38 = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), s@@38 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@2|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@2|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| (Lit |newmessage#0@@2|) (Lit |oldmessage#0@@2|)) (not (or (not ($Is |oldmessage#0@@2| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@2| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (or (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))) (not (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))))))))) (not (or (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (or (not (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (|ValueMessage.__default.ApplyDelta#canCall| (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.value (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))))))) (not (or (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (|ValueMessage.__default.CombineDeltas#canCall| (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))))))))))) (not (= (ValueMessage.__default.Merge (Lit |newmessage#0@@2|) (Lit |oldmessage#0@@2|)) (ite (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))) (Lit (|#ValueMessage.Message.Define| (Lit (ValueMessage.Message.value (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))) (ite (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))) (Lit (|#ValueMessage.Message.Define| (Lit (ValueMessage.__default.ApplyDelta (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.value (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))))) (Lit (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))))))))))))))) [|oldmessage#0@@2| = (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)), |newmessage#0@@2| = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = $LZ]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|funType:Seq#Take| (= (type (|Seq#Take| arg0@@99 arg1@@41)) (SeqType (SeqTypeInv0 (type arg0@@99)))) [arg1@@41 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), arg0@@99 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#2#1#0|) BoxType)) (not (= (type |a#2#0#0|) BoxType)) (not (= (type |_System._tuple#2$T0@@3|) (type TBool))) (not (= (type |_System._tuple#2$T1@@3|) (type TBool))) (not (= (or (not ($IsBox |a#2#1#0| |_System._tuple#2$T1@@3|)) (not ($IsBox |a#2#0#0| |_System._tuple#2$T0@@3|))) ($Is (|#_System._tuple#2._#Make2| |a#2#0#0| |a#2#1#0|) (Tclass._System.Tuple2 |_System._tuple#2$T0@@3| |_System._tuple#2$T1@@3|))))) [|a#2#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#2#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |_System._tuple#2$T1@@3| = Tclass.ValueMessage.Message, |_System._tuple#2$T0@@3| = Tclass.KeyType.Key]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = |i#1@@29!1364!340|, |a#6#0#0@@5| = (Buffers.BufferStack.buffers |dropBottom#0@0|)]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@319 = $LZ]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1204:15| (or (not (= (type item) BoxType)) (not (= (type m@@19) (MapType BoxType BoxType))) (not (= (or (not (U_2_bool (MapType0Select (|Map#Domain| m@@19) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) item))))) (not (= (MapType0Select (|Map#Elements| m@@19) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) item))) (_System.Tuple2._1 ($Unbox (type |#_System._tuple#0._#Make0|) item))))) (U_2_bool (MapType0Select (|Map#Items| m@@19) item))))) [item = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))), m@@19 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@319 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))]
|DafnyPreludebpl.1023:13| (or (not (>= j 0)) (>= (+ j (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))) 0) (= (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) j) (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) j))) [j = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = $LZ]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@0, |s#0@@0| = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|cast:U_2_int| (or (not (= (type x) intType)) (= (int_2_U (U_2_int x)) x)) [x = (int_2_U (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), arg0@@546 = $LZ]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (|a#7#0#0@@1!2015!224| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|)))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |b##0@0| |key#0@@75| |len##0@0|), a@@123 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))), a@@67 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))), arg0@@546 = ($LS $LZ)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))))))))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))), s0@@2 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@34) (ValueMessage.Message.Update_q d@@34) (not (= (type d@@34) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@34 Tclass.ValueMessage.Message))) [d@@34 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#6#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@0, |s#0@@0| = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.ValueMessage.Message, v@@0 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), arg0@@50 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = $LZ]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|a#1#0#0@@4!2885!278| |top#0|)]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|DafnyPreludebpl.1418:51| (not (= (<= (+ y@@17 (* (- 1) x@@47)) 0) (INTERNAL_lt_boogie x@@47 y@@17))) [y@@17 = |len##1@0|, x@@47 = |i#1@@29!1364!340|]
|funType:MultiSet#Union| (= (type (|MultiSet#Union| arg0@@86 arg1@@33)) (MapType0Type (MapType0TypeInv0 (type arg0@@86)) intType)) [arg1@@33 = (|MultiSet#FromSeq| (|Seq#Empty| BoxType)), arg0@@86 = (|MultiSet#FromSeq| (|Seq#Empty| BoxType))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@0, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|)), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@29!1364!340|))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))))), arg0@@38 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), arg0@@50 = (|a#1#0#0@@4!2885!278| |top#0|)]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|)), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = $LZ]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#5#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = |i#1@@29!1364!340|]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = |i#1@@29!1364!340|, x@@48 = 0]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)]
|unknown.0:0| (or (= (Sequences.__default.DropLast Sequences._default.DropLast$E@@1 |run#0@@17|) (|Seq#Take| |run#0@@17| (INTERNAL_sub_boogie (|Seq#Length| |run#0@@17|) 1))) (not (= (type Sequences._default.DropLast$E@@1) (type TBool))) (not (= (type |run#0@@17|) (type |key#0@@75|))) (not (or (|Sequences.__default.DropLast#canCall| Sequences._default.DropLast$E@@1 |run#0@@17|) (not (or (not ($Is |run#0@@17| (TSeq Sequences._default.DropLast$E@@1))) (not (INTERNAL_gt_boogie (|Seq#Length| |run#0@@17|) 0))))))) [|run#0@@17| = (Buffers.BufferStack.buffers |bottom#0|), Sequences._default.DropLast$E@@1 = Tclass.Buffers.Buffer]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@0, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|a#1#0#0@@4!2885!278| |top#0|)]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))))))))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), $ly@@317 = $LZ]
|unknown.0:0| (or (not (= (type bx@@120) BoxType)) (not ($IsBox bx@@120 Tclass.NativeTypes.byte)) (not (or (not (= ($Box ($Unbox intType bx@@120)) bx@@120)) (not ($Is ($Unbox intType bx@@120) Tclass.NativeTypes.byte))))) [bx@@120 = (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@29!1364!340|), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|Buffersidfy.39:38| (or (= ($IsAlloc (|#Buffers.BufferStack.BufferStack| |a#3#0#0@@4|) Tclass.Buffers.BufferStack $h@@103) ($IsAlloc |a#3#0#0@@4| (TSeq Tclass.Buffers.Buffer) $h@@103)) (not (= (type $h@@103) (type $OneHeap))) (not (= (type |a#3#0#0@@4|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@103))) [$h@@103 = $Heap@@50, |a#3#0#0@@4| = (|a#1#0#0@@4!2885!278| (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|), T@@0 = (type |#_System._tuple#0._#Make0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = $LZ]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@321 = $LZ]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|PagedBetreeidfy.49:15| (or (not (= (type this@@128) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@335) (type $LZ))) (not (or (|PagedBetree.ChildMap.WF#canCall| (Lit this@@128)) ($Is this@@128 Tclass.PagedBetree.ChildMap))) (not (or (not (PagedBetree.ChildMap.ChildMap_q (Lit this@@128))) (not (|Buffers.__default.Total#canCall| (Lit (|IMap#Domain| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128))))))) (not (or (not (U_2_bool (Lit (bool_2_U (Buffers.__default.Total (Lit (|IMap#Domain| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128)))))))))) (QUANT ((|k#1@@15| T@U)) (! (or (not (= (type |k#1@@15|) (type |key#0@@75|))) (not ($Is |k#1@@15| Tclass.KeyType.Key)) (not (or (not (|Buffers.__default.AnyKey#canCall| |k#1@@15|)) (not (or (not (Buffers.__default.AnyKey |k#1@@15|)) (not (or (not (PagedBetree.ChildMap.ChildMap_q (Lit this@@128))) (not (|PagedBetree.BetreeNode.WF#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128)))) ($Box |k#1@@15|)))))))))))) :qid |PagedBetreeidfy.51:18| :pattern (($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@128)) ($Box |k#1@@15|)))) :pattern ((Buffers.__default.AnyKey |k#1@@15|)))))) (not (or (not (PagedBetree.ChildMap.WF ($LS $ly@@335) (Lit this@@128))) (not (or (not (Buffers.__default.Total (Lit (|IMap#Domain| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128))))))) (not (QUANT ((|k#1@@16| T@U)) (! (or (not (Buffers.__default.AnyKey |k#1@@16|)) (PagedBetree.BetreeNode.WF ($LS $ly@@335) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128)))) ($Box |k#1@@16|)))) (not (= (type |k#1@@16|) (type |key#0@@75|))) (not ($Is |k#1@@16| Tclass.KeyType.Key))) :qid |PagedBetreeidfy.51:18| :pattern (($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (PagedBetree.ChildMap.mapp this@@128)) ($Box |k#1@@16|)))) :pattern ((Buffers.__default.AnyKey |k#1@@16|))))))))) (not (or (PagedBetree.ChildMap.WF ($LS $ly@@335) (Lit this@@128)) (not (Buffers.__default.Total (Lit (|IMap#Domain| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128))))))) (not (or (not (= (type (|k#1@@16!3071!293| this@@128 $ly@@335)) (type |key#0@@75|))) (PagedBetree.BetreeNode.WF ($LS $ly@@335) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|IMap#Elements| (Lit (PagedBetree.ChildMap.mapp (Lit this@@128)))) ($Box (|k#1@@16!3071!293| this@@128 $ly@@335))))) (not ($Is (|k#1@@16!3071!293| this@@128 $ly@@335) Tclass.KeyType.Key)) (not (Buffers.__default.AnyKey (|k#1@@16!3071!293| this@@128 $ly@@335)))))))))) [this@@128 = (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|), $ly@@335 = $LZ]
|funType:Buffers.BufferStack.PushBufferStack| (= (type (Buffers.BufferStack.PushBufferStack arg0@@549 arg1@@277)) (type |#_System._tuple#0._#Make0|)) [arg1@@277 = |top#0|, arg0@@549 = |dropBottom#0@0|]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), arg0@@50 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@2| Tclass.ValueType.Value $h@@70) ($IsAlloc |s#0@@2| (TSeq Tclass.NativeTypes.byte) $h@@70)) (not (= (type $h@@70) (type $OneHeap))) (not (= (type |s#0@@2|) (type |key#0@@75|)))) [$h@@70 = $Heap@0, |s#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = $LZ]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|)))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), x@@48 = 0]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))), arg0@@38 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = ($LS $LZ)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))), |key#0@@34| = |key#0@@75|, this@@73 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@317 = $LZ]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@30|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@30|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@30|))) (not (INTERNAL_lt_boogie |i#1@@30| |len##1@0|))) [|i#1@@30| = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##1@0|, |key#0@@38| = |key#0@@75|, this@@77 = |bottom#0|, $ly@@321 = $LZ]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = ($LS $LZ)]
|Buffersidfy.39:38| (or (not (= (type |a#2#0#0@@4|) (type |key#0@@75|))) (= ($Is (|#Buffers.BufferStack.BufferStack| |a#2#0#0@@4|) Tclass.Buffers.BufferStack) ($Is |a#2#0#0@@4| (TSeq Tclass.Buffers.Buffer)))) [|a#2#0#0@@4| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@@50, |s#0@@0| = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|)), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), $ly@@319 = $LZ]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), a@@122 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))))))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|PagedBetreeidfy.48:32| (or (not (= (type |a#38#0#0|) (type TotalKMMapMod.__default.Witness))) (= (PagedBetree.ChildMap.mapp (|#PagedBetree.ChildMap.ChildMap| |a#38#0#0|)) |a#38#0#0|)) [|a#38#0#0| = (|a#34#0#0!3051!291| (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@319 = $LZ]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers |b##0@0|)]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))), $ly@@319 = ($LS $LZ)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.Buffers.Buffer, v@@17 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = $LZ]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type |a#2#1#0|) BoxType)) (not (= (type |a#2#0#0|) BoxType)) (not (= (type |_System._tuple#2$T0@@3|) (type TBool))) (not (= (type |_System._tuple#2$T1@@3|) (type TBool))) (not (= (or (not ($IsBox |a#2#1#0| |_System._tuple#2$T1@@3|)) (not ($IsBox |a#2#0#0| |_System._tuple#2$T0@@3|))) ($Is (|#_System._tuple#2._#Make2| |a#2#0#0| |a#2#1#0|) (Tclass._System.Tuple2 |_System._tuple#2$T0@@3| |_System._tuple#2$T1@@3|))))) [|a#2#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#2#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |_System._tuple#2$T1@@3| = Tclass.ValueMessage.Message, |_System._tuple#2$T0@@3| = Tclass.KeyType.Key]
|unknown.0:0| (or (not (= (type |x#0|) intType)) (= ($Is |x#0| Tclass._System.nat) (INTERNAL_le_boogie 0 (U_2_int |x#0|)))) [|x#0| = (int_2_U (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@124 b@@73) (|ValueMessage.Delta#Equal| (ValueMessage.Message.delta a@@124) (ValueMessage.Message.delta b@@73))) (not (= (type b@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@124) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q b@@73)) (not (ValueMessage.Message.Update_q a@@124))) [b@@73 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)), a@@124 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75|)]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), arg0@@38 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|Buffersidfy.16:19| (or (not (= (type |keys#0@@1|) (MapType0Type BoxType boolType))) (not (or (|Buffers.__default.Total#canCall| |keys#0@@1|) ($Is |keys#0@@1| (TISet Tclass.KeyType.Key)))) (not (or (not (QUANT ((|k#0@@77| T@U)) (! (or (|Buffers.__default.AnyKey#canCall| |k#0@@77|) (not (= (type |k#0@@77|) (type |key#0@@75|))) (not ($Is |k#0@@77| Tclass.KeyType.Key))) :qid |Buffersidfy.17:12| :pattern ((MapType0Select |keys#0@@1| ($Box |k#0@@77|))) :pattern ((Buffers.__default.AnyKey |k#0@@77|))))) (not (or (not (Buffers.__default.Total |keys#0@@1|)) (QUANT ((|k#0@@78| T@U)) (! (or (U_2_bool (MapType0Select |keys#0@@1| ($Box |k#0@@78|))) (not (Buffers.__default.AnyKey |k#0@@78|)) (not (= (type |k#0@@78|) (type |key#0@@75|))) (not ($Is |k#0@@78| Tclass.KeyType.Key))) :qid |Buffersidfy.17:12| :pattern ((MapType0Select |keys#0@@1| ($Box |k#0@@78|))) :pattern ((Buffers.__default.AnyKey |k#0@@78|)))))) (not (or (Buffers.__default.Total |keys#0@@1|) (not (or (U_2_bool (MapType0Select |keys#0@@1| ($Box (|k#0@@78!2937!281| |keys#0@@1|)))) (not (= (type (|k#0@@78!2937!281| |keys#0@@1|)) (type |key#0@@75|))) (not ($Is (|k#0@@78!2937!281| |keys#0@@1|) Tclass.KeyType.Key)) (not (Buffers.__default.AnyKey (|k#0@@78!2937!281| |keys#0@@1|)))))))))) [|keys#0@@1| = (|IMap#Domain| (PagedBetree.ChildMap.mapp (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|)))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|unknown.0:0| (or ($IsAlloc (Buffers.BufferStack.buffers d@@63) (TSeq Tclass.Buffers.Buffer) $h@@104) (not (= (type d@@63) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@104) (type $OneHeap))) (not ($IsGoodHeap $h@@104)) (not (Buffers.BufferStack.BufferStack_q d@@63)) (not ($IsAlloc d@@63 Tclass.Buffers.BufferStack $h@@104))) [$h@@104 = $Heap@@50, d@@63 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.39:38| (or (not (= (type |a#2#0#0@@4|) (type |key#0@@75|))) (= ($Is (|#Buffers.BufferStack.BufferStack| |a#2#0#0@@4|) Tclass.Buffers.BufferStack) ($Is |a#2#0#0@@4| (TSeq Tclass.Buffers.Buffer)))) [|a#2#0#0@@4| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.ValueMessage.Message, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), arg0@@50 = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = (ValueMessage.__default.Merge (Buffers.BufferStack.Query |top#0| |key#0@@75|) (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)), a@@123 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = $LZ]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (U_2_int ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))), x@@48 = 0]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|Buffersidfy.39:38| (or (= ($IsAlloc (|#Buffers.BufferStack.BufferStack| |a#3#0#0@@4|) Tclass.Buffers.BufferStack $h@@103) ($IsAlloc |a#3#0#0@@4| (TSeq Tclass.Buffers.Buffer) $h@@103)) (not (= (type $h@@103) (type $OneHeap))) (not (= (type |a#3#0#0@@4|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@103))) [$h@@103 = $Heap@@50, |a#3#0#0@@4| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|Seq#Empty| BoxType)))) 0) ($IsBox (|Seq#Index| (|Seq#Empty| BoxType) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|Buffersidfy.39:38| (or (= ($IsAlloc (|#Buffers.BufferStack.BufferStack| |a#3#0#0@@4|) Tclass.Buffers.BufferStack $h@@103) ($IsAlloc |a#3#0#0@@4| (TSeq Tclass.Buffers.Buffer) $h@@103)) (not (= (type $h@@103) (type $OneHeap))) (not (= (type |a#3#0#0@@4|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@103))) [$h@@103 = $Heap@@50, |a#3#0#0@@4| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))), |key#0@@34| = |key#0@@75|, this@@73 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@317 = $LZ]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@0, |s#0@@0| = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@@50)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@@50))))) [bx@@17 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|MessagesdfyValueMessage.24:30| (or (not (= (type |delta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@0|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0| |value#0@@0|) (not (or (not ($Is |value#0@@0| Tclass.ValueType.Value)) (not ($Is |delta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |delta#0| |#ValueMessage.Delta.NoDelta|)) (|Seq#Equal| (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) |value#0@@0|))) (not ($Is (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) Tclass.ValueType.Value))))) [|value#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), |delta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|unknown.0:0| (or (not (= (type bx@@120) BoxType)) (not ($IsBox bx@@120 Tclass.NativeTypes.byte)) (not (or (not (= ($Box ($Unbox intType bx@@120)) bx@@120)) (not ($Is ($Unbox intType bx@@120) Tclass.NativeTypes.byte))))) [bx@@120 = (|Seq#Index| (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|)]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), arg0@@102 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@34) (ValueMessage.Message.Update_q d@@34) (not (= (type d@@34) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@34 Tclass.ValueMessage.Message))) [d@@34 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), arg0@@50 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), $ly@@321 = $LZ]
|unknown.0:0| (or (not (= (type d@@62) (type |#_System._tuple#0._#Make0|))) (not (Buffers.BufferStack.BufferStack_q d@@62)) (not (or (not (= (type (|a#1#0#0@@4!2885!278| d@@62)) (type |key#0@@75|))) (not (= d@@62 (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| d@@62))))))) [d@@62 = |bottom#0|]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.ValueMessage.Message) (not (U_2_bool (MapType0Select (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@@50, t0@@7 = Tclass.Buffers.Buffer, v@@21 = (|a#1#0#0@@4!2885!278| |top#0|)]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@124 b@@73) (|ValueMessage.Delta#Equal| (ValueMessage.Message.delta a@@124) (ValueMessage.Message.delta b@@73))) (not (= (type b@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@124) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q b@@73)) (not (ValueMessage.Message.Update_q a@@124))) [b@@73 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |b##0@0| |key#0@@75| |len##0@0|), a@@124 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), |a#6#0#0@@5| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), arg0@@546 = $LZ]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|funType:Seq#Append| (= (type (|Seq#Append| arg0@@92 arg1@@37)) (SeqType (SeqTypeInv0 (type arg0@@92)))) [arg1@@37 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), arg0@@92 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = |key#0@@75|]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|unknown.0:0| (or (not (= (type d@@62) (type |#_System._tuple#0._#Make0|))) (not (Buffers.BufferStack.BufferStack_q d@@62)) (not (or (not (= (type (|a#1#0#0@@4!2885!278| d@@62)) (type |key#0@@75|))) (not (= d@@62 (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| d@@62))))))) [d@@62 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))))))))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type d@@31) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q d@@31)) (not (or (not (= (type (|a#7#0#0@@1!2015!224| d@@31)) (type |#_System._tuple#0._#Make0|))) (not (= d@@31 (|#ValueMessage.Message.Update| (|a#7#0#0@@1!2015!224| d@@31))))))) [d@@31 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), T@@0 = (type |key#0@@75|)]
|DafnyPreludebpl.1413:30| (= (+ y@@12 x@@42 (* (- 1) (INTERNAL_add_boogie x@@42 y@@12))) 0) [y@@12 = (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)), x@@42 = (|Seq#Length| (Buffers.BufferStack.buffers |top#0|))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|)))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.KeyType.Key, v@@0 = |key#0@@75|]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@123 b@@72) (|Seq#Equal| (ValueMessage.Message.value a@@123) (ValueMessage.Message.value b@@72))) (not (= (type b@@72) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@123) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q b@@72)) (not (ValueMessage.Message.Define_q a@@123))) [b@@72 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |bottom#0| |key#0@@75| |len##1@0|), a@@123 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@0, |s#0@@0| = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._0 d@@2) |_System._tuple#2$T0@@5| $h@@19) (not (= (type |_System._tuple#2$T0@@5|) (type TBool))) (not (= (type $h@@19) (type $OneHeap))) (not (= (type d@@2) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@19)) (not (_System.Tuple2.___hMake2_q d@@2)) (QUANT ((|_System._tuple#2$T1@@5| T@U)) (! (or (not (= (type |_System._tuple#2$T1@@5|) (type TBool))) (not ($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))) :qid |unknown.0:0| :pattern (($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))))) [$h@@19 = $Heap@0, |_System._tuple#2$T0@@5| = Tclass.KeyType.Key, d@@2 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|)]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.Query |top#0| |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = $LZ]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or ($IsAlloc (Buffers.Buffer.mapp d@@57) (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@102) (not (= (type d@@57) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@102) (type $OneHeap))) (not ($IsGoodHeap $h@@102)) (not (Buffers.Buffer.Buffer_q d@@57)) (not ($IsAlloc d@@57 Tclass.Buffers.Buffer $h@@102))) [$h@@102 = $Heap@0, d@@57 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), |a#8#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@@50, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers |a##0@0|)]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|a#1#0#0@@4!2885!278| (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), x@@48 = 0]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), arg0@@546 = $LZ]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), arg0@@546 = $LZ]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|Buffersidfy.58:14| (or (not (= (type |newBuffers#0@@2|) (type |#_System._tuple#0._#Make0|))) (not (= (type this@@91) (type |#_System._tuple#0._#Make0|))) (not (or (|Buffers.BufferStack.PushBufferStack#canCall| (Lit this@@91) (Lit |newBuffers#0@@2|)) (not (or (not ($Is |newBuffers#0@@2| Tclass.Buffers.BufferStack)) (not ($Is this@@91 Tclass.Buffers.BufferStack)))))) (not (or (not (Buffers.BufferStack.BufferStack_q (Lit |newBuffers#0@@2|))) (not (Buffers.BufferStack.BufferStack_q (Lit this@@91))) (not (= (Buffers.BufferStack.PushBufferStack (Lit this@@91) (Lit |newBuffers#0@@2|)) (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (Lit |newBuffers#0@@2|)) (Buffers.BufferStack.buffers (Lit this@@91))))))))) [|newBuffers#0@@2| = (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))), this@@91 = (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|PagedBetreeidfy.48:32| (or (not (= (type |a#37#0#0|) (type TotalKMMapMod.__default.Witness))) (= (|#PagedBetree.ChildMap.ChildMap| (Lit |a#37#0#0|)) (Lit (|#PagedBetree.ChildMap.ChildMap| |a#37#0#0|)))) [|a#37#0#0| = (|IMap#Glue| (|lambda#4| Tclass.KeyType.Key) (|lambda#101| ($Box (Lit (Lit (Lit (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType)))))))))) (TIMap Tclass.KeyType.Key Tclass.ValueMessage.Message))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.1212:21| (not (U_2_bool (MapType0Select (|Map#Domain| (|Map#Empty| (type u@@6) V@@13)) u@@6))) [V@@13 = (MapTypeInv1 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), u@@6 = ($Box |key#0@@75|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@62) (type |#_System._tuple#0._#Make0|))) (not (Buffers.BufferStack.BufferStack_q d@@62)) (not (or (not (= (type (|a#1#0#0@@4!2885!278| d@@62)) (type |key#0@@75|))) (not (= d@@62 (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| d@@62))))))) [d@@62 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@@50, |s#0@@0| = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), arg0@@38 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = $LZ]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = ($LS $LZ)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##0@0|, |key#0@@36| = |key#0@@75|, this@@75 = |b##0@0|, $ly@@319 = ($LS $LZ)]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))))))))))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##1@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |bottom#0|, arg0@@546 = ($LS ($LS $LZ))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = $LZ]
|typeInv:U_2_int| (= (U_2_int (int_2_U arg0)) arg0) [arg0 = (U_2_int ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@30) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Update_q d@@30) (= (DatatypeCtorId d@@30) |##ValueMessage.Message.Update|))) [d@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))))), arg0@@38 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)]
|DafnyPreludebpl.1183:20| (or (not (= (type m@@18) (MapType (MapTypeInv0 (type m@@18)) (type v@@44)))) (not (or (not (or (not (U_2_bool (MapType0Select (|Map#Values| m@@18) v@@44))) (not (or (not (= (type (u@@5!630!34 v@@44 m@@18)) (MapTypeInv0 (type m@@18)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@18) (u@@5!630!34 v@@44 m@@18)))) (not (= v@@44 (MapType0Select (|Map#Elements| m@@18) (u@@5!630!34 v@@44 m@@18)))))))) (not (or (U_2_bool (MapType0Select (|Map#Values| m@@18) v@@44)) (QUANT ((u@@5 T@U)) (! (or (not (= (type u@@5) (MapTypeInv0 (type m@@18)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@18) u@@5))) (not (= v@@44 (MapType0Select (|Map#Elements| m@@18) u@@5)))) :qid |DafnyPreludebpl.1185:10| :pattern ((MapType0Select (|Map#Domain| m@@18) u@@5)) :pattern ((MapType0Select (|Map#Elements| m@@18) u@@5))))))))) [v@@44 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), m@@18 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), T@@0 = (type (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.1418:51| (not (= (<= (+ y@@17 (* (- 1) x@@47)) 0) (INTERNAL_lt_boogie x@@47 y@@17))) [y@@17 = |len##0@0|, x@@47 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), s@@38 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), a@@122 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (Lit |#ValueMessage.Delta.NoDelta|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|)))) 0) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50)) [i@@0 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = |i#1@@27!1364!339|, |a#6#0#0@@5| = (Buffers.BufferStack.buffers |a##0@0|)]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))), |key#0@@38| = |key#0@@75|, this@@77 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@321 = $LZ]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) |i#1@@27!1364!339|)))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|a#1#0#0@@4!2885!278| (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._0 d@@2) |_System._tuple#2$T0@@5| $h@@19) (not (= (type |_System._tuple#2$T0@@5|) (type TBool))) (not (= (type $h@@19) (type $OneHeap))) (not (= (type d@@2) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@19)) (not (_System.Tuple2.___hMake2_q d@@2)) (QUANT ((|_System._tuple#2$T1@@5| T@U)) (! (or (not (= (type |_System._tuple#2$T1@@5|) (type TBool))) (not ($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))) :qid |unknown.0:0| :pattern (($IsAlloc d@@2 (Tclass._System.Tuple2 |_System._tuple#2$T0@@5| |_System._tuple#2$T1@@5|) $h@@19))))) [$h@@19 = $Heap@0, |_System._tuple#2$T0@@5| = Tclass.KeyType.Key, d@@2 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), arg0@@50 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = |i#1@@27!1364!339|, s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type d@@61) (type |#_System._tuple#0._#Make0|))) (= (Buffers.BufferStack.BufferStack_q d@@61) (= (DatatypeCtorId d@@61) |##Buffers.BufferStack.BufferStack|))) [d@@61 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|funType:Buffers.BufferStack.Query| (= (type (Buffers.BufferStack.Query arg0@@367 arg1@@145)) (type |#_System._tuple#0._#Make0|)) [arg1@@145 = |key#0@@75|, arg0@@367 = |dropBottom#0@0|]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), s@@38 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@34| = |key#0@@75|, this@@73 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@317 = $LZ]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@0, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))), a@@122 = (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = $LZ]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), s@@38 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|MessagesdfyValueMessage.24:30| (or (= (ValueMessage.__default.ApplyDelta |delta#0@@1| |value#0@@2|) |value#0@@2|) (not (= (type |delta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@2|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0@@1| |value#0@@2|) (not (or (not ($Is |value#0@@2| Tclass.ValueType.Value)) (not ($Is |delta#0@@1| Tclass.ValueMessage.Delta))))))) [|value#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), |delta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|))]
|DafnyPreludebpl.1020:18| (or (not (= (type s0@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (= (type s1@@2) (SeqType (SeqTypeInv0 (type s0@@2))))) (not (or (not (or (not (|Seq#Equal| s0@@2 s1@@2)) (not (or (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (QUANT ((j Int)) (! (or (>= (+ j (* (- 1) (|Seq#Length| s0@@2))) 0) (not (>= j 0)) (= (|Seq#Index| s0@@2 j) (|Seq#Index| s1@@2 j))) :qid |DafnyPreludebpl.1023:13| :pattern ((|Seq#Index| s0@@2 j)) :pattern ((|Seq#Index| s1@@2 j))))))))) (not (or (|Seq#Equal| s0@@2 s1@@2) (not (= (|Seq#Length| s0@@2) (|Seq#Length| s1@@2))) (not (or (not (>= (j!590!28 s1@@2 s0@@2) 0)) (= (|Seq#Index| s0@@2 (j!590!28 s1@@2 s0@@2)) (|Seq#Index| s1@@2 (j!590!28 s1@@2 s0@@2))) (<= (+ (|Seq#Length| s0@@2) (* (- 1) (j!590!28 s1@@2 s0@@2))) 0)))))))) [s1@@2 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), s0@@2 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##0@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |b##0@0|, arg0@@546 = ($LS ($LS $LZ))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@30) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Update_q d@@30) (= (DatatypeCtorId d@@30) |##ValueMessage.Message.Update|))) [d@@30 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), arg0@@102 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))), arg0@@38 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), arg0@@38 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@30) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Update_q d@@30) (= (DatatypeCtorId d@@30) |##ValueMessage.Message.Update|))) [d@@30 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))))))))))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|a#1#0#0@@4!2885!278| (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|Seq#Empty| BoxType)))) 0) ($IsBox (|Seq#Index| (|Seq#Empty| BoxType) i) Tclass.Buffers.Buffer)) [i = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|typeInv:U_2_int| (= (U_2_int (int_2_U arg0)) arg0) [arg0 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|Buffersidfy.39:38| (or (not (= (type |a#2#0#0@@4|) (type |key#0@@75|))) (= ($Is (|#Buffers.BufferStack.BufferStack| |a#2#0#0@@4|) Tclass.Buffers.BufferStack) ($Is |a#2#0#0@@4| (TSeq Tclass.Buffers.Buffer)))) [|a#2#0#0@@4| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (= ($IsAlloc (|#ValueMessage.Message.Define| |a#3#0#0@@0|) Tclass.ValueMessage.Message $h@@76) ($IsAlloc |a#3#0#0@@0| Tclass.ValueType.Value $h@@76)) (not (= (type $h@@76) (type $OneHeap))) (not (= (type |a#3#0#0@@0|) (type |key#0@@75|))) (not ($IsGoodHeap $h@@76))) [$h@@76 = $Heap@0, |a#3#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:$LS| (= (type ($LS arg0@@68)) (type $LZ)) [arg0@@68 = ($LS $LZ)]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@31) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q d@@31)) (not (or (not (= (type (|a#7#0#0@@1!2015!224| d@@31)) (type |#_System._tuple#0._#Make0|))) (not (= d@@31 (|#ValueMessage.Message.Update| (|a#7#0#0@@1!2015!224| d@@31))))))) [d@@31 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##1@0|, |key#0@@34| = |key#0@@75|, this@@73 = |bottom#0|, $ly@@317 = $LZ]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@2|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@2|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| (Lit |newmessage#0@@2|) (Lit |oldmessage#0@@2|)) (not (or (not ($Is |oldmessage#0@@2| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@2| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (or (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))) (not (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))))))))) (not (or (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (or (not (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (|ValueMessage.__default.ApplyDelta#canCall| (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.value (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))))))) (not (or (U_2_bool (Lit (bool_2_U (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))) (not (or (not (_System.Tuple2.___hMake2_q (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))) (not (|ValueMessage.__default.CombineDeltas#canCall| (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))))))))))) (not (= (ValueMessage.__default.Merge (Lit |newmessage#0@@2|) (Lit |oldmessage#0@@2|)) (ite (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))) (Lit (|#ValueMessage.Message.Define| (Lit (ValueMessage.Message.value (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))) (ite (ValueMessage.Message.Define_q (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))) (Lit (|#ValueMessage.Message.Define| (Lit (ValueMessage.__default.ApplyDelta (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.value (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))))))) (Lit (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit |newmessage#0@@2|)) ($Box (Lit |oldmessage#0@@2|)))))))))))))))))))) [|oldmessage#0@@2| = (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)), |newmessage#0@@2| = (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@33) (ValueMessage.Message.Update_q d@@33) (not (= (type d@@33) (type |#_System._tuple#0._#Make0|))) (not (|$IsA#ValueMessage.Message| d@@33))) [d@@33 = (Buffers.BufferStack.Query (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75|)]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|)))) 0) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50)) [i@@0 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@2|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@2|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas (Lit |newdelta#0@@2|) (Lit |olddelta#0@@2|)) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| (Lit |newdelta#0@@2|) (Lit |olddelta#0@@2|)) (not (or (not ($Is |olddelta#0@@2| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@2| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@2| = |#ValueMessage.Delta.NoDelta|, |newdelta#0@@2| = |#ValueMessage.Delta.NoDelta|]
|DafnyPreludebpl.1162:21| (or (not (= (type m@@14) (MapType (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14))))) (= m@@14 (|Map#Empty| (MapTypeInv0 (type m@@14)) (MapTypeInv1 (type m@@14)))) (not (or (not (= (type (k@@5!625!33 m@@14)) BoxType)) (not (= (type (v@@43!625!32 m@@14)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Items| m@@14) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 m@@14) (v@@43!625!32 m@@14))))))))) [m@@14 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or ($IsAlloc (Buffers.BufferStack.buffers d@@63) (TSeq Tclass.Buffers.Buffer) $h@@104) (not (= (type d@@63) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@104) (type $OneHeap))) (not ($IsGoodHeap $h@@104)) (not (Buffers.BufferStack.BufferStack_q d@@63)) (not ($IsAlloc d@@63 Tclass.Buffers.BufferStack $h@@104))) [$h@@104 = $Heap@@50, d@@63 = |dropBottom#0@0|]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))), a@@121 = (ValueMessage.Message.delta (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), a@@121 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)), |a#5#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = |i#1@@27!1364!339|, |a#6#0#0@@5| = (Buffers.BufferStack.buffers |b##0@0|)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#7#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))))))))))))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)]
|DafnyPreludebpl.974:18| (or (= (+ (|Seq#Length| s1) (|Seq#Length| s0) (* (- 1) (|Seq#Length| (|Seq#Append| s0 s1)))) 0) (not (= (type s0) (SeqType (SeqTypeInv0 (type s0))))) (not (= (type s1) (SeqType (SeqTypeInv0 (type s0)))))) [s1 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType))))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = $LZ]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.39:38| (or (not (= (type |a#0#0#0@@4|) (type |key#0@@75|))) (= (DatatypeCtorId (|#Buffers.BufferStack.BufferStack| |a#0#0#0@@4|)) |##Buffers.BufferStack.BufferStack|)) [|a#0#0#0@@4| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:#Buffers.BufferStack.BufferStack| (= (type (|#Buffers.BufferStack.BufferStack| arg0@@544)) (type |#_System._tuple#0._#Make0|)) [arg0@@544 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##1@0|, |key#0@@34| = |key#0@@75|, this@@73 = |dropBottom#0@0|, $ly@@317 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@319 = ($LS $LZ)]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.1273:35| (or (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) u@@13))) (not (= (type u@@13) (MapTypeInv0 (type (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))))) (= (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) u@@13) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) u@@13))) [u@@13 = ($Box |key#0@@75|)]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), |a#8#0#0| = ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))), arg0@@38 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))), $ly@@321 = $LZ]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = |i#1@@27!1364!339|, s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |i#0@@1|) intType)) (not (= (or (not (INTERNAL_le_boogie 0 (U_2_int |i#0@@1|))) (not (INTERNAL_lt_boogie (U_2_int |i#0@@1|) 256))) ($Is |i#0@@1| Tclass.NativeTypes.byte)))) [|i#0@@1| = ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = |len##1@0|, |key#0@@34| = |key#0@@75|, this@@73 = |bottom#0|, $ly@@317 = ($LS $LZ)]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|funType:ValueMessage.__default.ApplyDelta| (= (type (ValueMessage.__default.ApplyDelta arg0@@436 arg1@@180)) (type |key#0@@75|)) [arg1@@180 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))), arg0@@436 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##0@0|, |key#0@@38| = |key#0@@75|, this@@77 = |b##0@0|, $ly@@321 = $LZ]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), arg0@@102 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) i) Tclass.Buffers.Buffer) (>= (+ i (* (- 1) (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))))) 0)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), arg0@@38 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)), x@@48 = |len##1@0|]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|unknown.0:0| (or ($Is (Sequences.__default.DropLast Sequences._default.DropLast$E |run#0@@15|) (TSeq Sequences._default.DropLast$E)) (not (= (type Sequences._default.DropLast$E) (type TBool))) (not (= (type |run#0@@15|) (type |key#0@@75|))) (not (or (|Sequences.__default.DropLast#canCall| Sequences._default.DropLast$E |run#0@@15|) (not (or (not ($Is |run#0@@15| (TSeq Sequences._default.DropLast$E))) (not (INTERNAL_gt_boogie (|Seq#Length| |run#0@@15|) 0))))))) [|run#0@@15| = (Buffers.BufferStack.buffers |bottom#0|), Sequences._default.DropLast$E = Tclass.Buffers.Buffer]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@12)))) [u@@12 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|unknown.0:0| (or ($IsAllocBox (_System.Tuple2._1 d@@3) |_System._tuple#2$T1@@6| $h@@20) (not (= (type |_System._tuple#2$T1@@6|) (type TBool))) (not (= (type $h@@20) (type $OneHeap))) (not (= (type d@@3) (type |#_System._tuple#0._#Make0|))) (not ($IsGoodHeap $h@@20)) (not (_System.Tuple2.___hMake2_q d@@3)) (QUANT ((|_System._tuple#2$T0@@6| T@U)) (! (or (not (= (type |_System._tuple#2$T0@@6|) (type TBool))) (not ($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))) :qid |unknown.0:0| :pattern (($IsAlloc d@@3 (Tclass._System.Tuple2 |_System._tuple#2$T0@@6| |_System._tuple#2$T1@@6|) $h@@20))))) [$h@@20 = $Heap@@50, |_System._tuple#2$T1@@6| = Tclass.ValueMessage.Message, d@@3 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:Seq#Append| (= (type (|Seq#Append| arg0@@92 arg1@@37)) (SeqType (SeqTypeInv0 (type arg0@@92)))) [arg1@@37 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))), arg0@@92 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), s@@38 = (|a#1#0#0@@4!2885!278| |top#0|)]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |i#0@@1|) intType)) (not (= (or (not (INTERNAL_le_boogie 0 (U_2_int |i#0@@1|))) (not (INTERNAL_lt_boogie (U_2_int |i#0@@1|) 256))) ($Is |i#0@@1| Tclass.NativeTypes.byte)))) [|i#0@@1| = ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (Buffers.BufferStack.buffers |a##0@0|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@319 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.24:30| (or (= (ValueMessage.__default.ApplyDelta |delta#0@@1| |value#0@@2|) |value#0@@2|) (not (= (type |delta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@2|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0@@1| |value#0@@2|) (not (or (not ($Is |value#0@@2| Tclass.ValueType.Value)) (not ($Is |delta#0@@1| Tclass.ValueMessage.Delta))))))) [|value#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), |delta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| |top#0|)]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))))))))))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), x@@48 = 0]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))), |key#0@@38| = |key#0@@75|, this@@77 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@321 = $LZ]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|))))))]
|funType:ValueMessage.__default.ApplyDelta| (= (type (ValueMessage.__default.ApplyDelta arg0@@436 arg1@@180)) (type |key#0@@75|)) [arg1@@180 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), arg0@@436 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or ($IsAlloc (ValueMessage.Message.value d@@29) Tclass.ValueType.Value $h@@77) (not (= (type d@@29) (type |#_System._tuple#0._#Make0|))) (not (= (type $h@@77) (type $OneHeap))) (not ($IsGoodHeap $h@@77)) (not (ValueMessage.Message.Define_q d@@29)) (not ($IsAlloc d@@29 Tclass.ValueMessage.Message $h@@77))) [$h@@77 = $Heap@0, d@@29 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|funType:int_2_U| (= (type (int_2_U arg0@@0)) intType) [arg0@@0 = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))), s@@38 = (|Seq#Empty| BoxType)]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@@50)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@@50))))) [bx@@17 = ($Box |key#0@@75|)]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)), x@@48 = |len##0@0|]
|DafnyPreludebpl.1023:13| (or (not (>= j 0)) (>= (+ j (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))) 0) (= (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) j) (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) j))) [j = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (|a#7#0#0@@1!2015!224| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type d@@92) (type |#_System._tuple#0._#Make0|))) (not (PagedBetree.ChildMap.ChildMap_q d@@92)) (not (or (not (= (type (|a#34#0#0!3051!291| d@@92)) (type TotalKMMapMod.__default.Witness))) (not (= d@@92 (|#PagedBetree.ChildMap.ChildMap| (|a#34#0#0!3051!291| d@@92))))))) [d@@92 = (Lit (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.Buffers.Buffer, v@@17 = (|a#1#0#0@@4!2885!278| |top#0|)]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@@50)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@@50))))) [bx@@17 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|DafnyPreludebpl.1273:35| (or (= (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))))) u@@13) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))))))))) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))))) u@@13)))) [u@@13 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type d@@1) (type |#_System._tuple#0._#Make0|))) (not (_System.Tuple2.___hMake2_q d@@1)) (not (or (not (= (type (|a#1#0#0!965!173| d@@1)) BoxType)) (not (= (type (|a#1#1#0!965!172| d@@1)) BoxType)) (not (= d@@1 (|#_System._tuple#2._#Make2| (|a#1#0#0!965!173| d@@1) (|a#1#1#0!965!172| d@@1))))))) [d@@1 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.264:15| (or (not (= (type t1@@0) (type TBool))) (not (= (type h@@10) (type $OneHeap))) (not (= (type v@@23) (MapType BoxType BoxType))) (not (= (type t0@@9) (type TBool))) (not (or (not (or (not ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10)) (QUANT ((bx@@17 T@U)) (! (or (not (= (type bx@@17) BoxType)) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) bx@@17) t1@@0 h@@10)) (not ($IsAllocBox bx@@17 t0@@9 h@@10)))) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) bx@@17)))) :qid |DafnyPreludebpl.267:19| :pattern ((MapType0Select (|Map#Elements| v@@23) bx@@17)) :pattern ((MapType0Select (|Map#Domain| v@@23) bx@@17)))))) (not (or ($IsAlloc v@@23 (TMap t0@@9 t1@@0) h@@10) (not (or (not (= (type (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)))) (not (or (not ($IsAllocBox (MapType0Select (|Map#Elements| v@@23) (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23)) t1@@0 h@@10)) (not ($IsAllocBox (bx@@17!417!9 h@@10 t1@@0 t0@@9 v@@23) t0@@9 h@@10))))))))))) [h@@10 = $Heap@0, t1@@0 = Tclass.ValueMessage.Message, t0@@9 = Tclass.KeyType.Key, v@@23 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)), |a#6#0#0@@5| = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))) 0) ($IsBox (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) i) Tclass.Buffers.Buffer)) [i = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) ($Box |key#0@@75|))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@30|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@30|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@30|))) (not (INTERNAL_lt_boogie |i#1@@30| |len##1@0|))) [|i#1@@30| = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), arg0@@50 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)]
|funType:Buffers.BufferStack.Query| (= (type (Buffers.BufferStack.Query arg0@@367 arg1@@145)) (type |#_System._tuple#0._#Make0|)) [arg1@@145 = |key#0@@75|, arg0@@367 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)]
|typeInv:U_2_bool| (= (U_2_bool (bool_2_U arg0@@3)) arg0@@3) [arg0@@3 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) ($Box |key#0@@75|)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type d@@28) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Define_q d@@28)) (not (or (not (= (type (|a#1#0#0@@0!2006!223| d@@28)) (type |key#0@@75|))) (not (= d@@28 (|#ValueMessage.Message.Define| (|a#1#0#0@@0!2006!223| d@@28))))))) [d@@28 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|DafnyPreludebpl.979:18| (or (not (= (type s0@@0) (SeqType (SeqTypeInv0 (type s0@@0))))) (not (or (not (or (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s0@@0 n@@6)))) (not (or (not (>= (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))) 0)) (= (|Seq#Index| (|Seq#Append| s0@@0 s1@@0) n@@6) (|Seq#Index| s1@@0 (+ n@@6 (* (- 1) (|Seq#Length| s0@@0))))))))) (not (= (type s1@@0) (SeqType (SeqTypeInv0 (type s0@@0)))))) [n@@6 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), s1@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))), s0@@0 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@10)))) [bx@@10 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), T@@0 = (type (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.1272:35| (or (not (= (type u@@12) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@12)))) [u@@12 = ($Box |key#0@@75|)]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))))]
|MessagesdfyValueMessage.24:30| (or (= (ValueMessage.__default.ApplyDelta |delta#0@@1| |value#0@@2|) |value#0@@2|) (not (= (type |delta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@2|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0@@1| |value#0@@2|) (not (or (not ($Is |value#0@@2| Tclass.ValueType.Value)) (not ($Is |delta#0@@1| Tclass.ValueMessage.Delta))))))) [|value#0@@2| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), |delta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|unknown.0:0| (or (not (= (type d@@30) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Update_q d@@30) (= (DatatypeCtorId d@@30) |##ValueMessage.Message.Update|))) [d@@30 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|PagedBetreeRefinementidfy.89:21| (or (not (INTERNAL_le_boogie 0 |i#1@@30|)) (|Buffers.Buffer#Equal| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@30|)) ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@30|))) (not (INTERNAL_lt_boogie |i#1@@30| |len##1@0|))) [|i#1@@30| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#2#1#0|) BoxType)) (not (= (type |a#2#0#0|) BoxType)) (not (= (type |_System._tuple#2$T0@@3|) (type TBool))) (not (= (type |_System._tuple#2$T1@@3|) (type TBool))) (not (= (or (not ($IsBox |a#2#1#0| |_System._tuple#2$T1@@3|)) (not ($IsBox |a#2#0#0| |_System._tuple#2$T0@@3|))) ($Is (|#_System._tuple#2._#Make2| |a#2#0#0| |a#2#1#0|) (Tclass._System.Tuple2 |_System._tuple#2$T0@@3| |_System._tuple#2$T1@@3|))))) [|a#2#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |a#2#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), |_System._tuple#2$T1@@3| = Tclass.ValueMessage.Message, |_System._tuple#2$T0@@3| = Tclass.KeyType.Key]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##0@0|, |key#0@@36| = |key#0@@75|, this@@75 = |b##0@0|, $ly@@319 = ($LS ($LS $LZ))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), arg0@@546 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type |x#0|) intType)) (= ($Is |x#0| Tclass._System.nat) (INTERNAL_le_boogie 0 (U_2_int |x#0|)))) [|x#0| = (int_2_U (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:Map#Elements| (= (type (|Map#Elements| arg0@@51)) (MapType0Type (MapTypeInv0 (type arg0@@51)) (MapTypeInv1 (type arg0@@51)))) [arg0@@51 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), arg0@@546 = ($LS $LZ)]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = |i#1@@27!1364!339|, s@@38 = (Buffers.BufferStack.buffers |b##0@0|)]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.89:29| (= (Lit x@@8) x@@8) [x@@8 = (|#ValueMessage.Message.Update| (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) bx@@10)))) [bx@@10 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|Buffersidfy.48:14| (or ($Is (Buffers.BufferStack.Query this@@79 |key#0@@40|) Tclass.ValueMessage.Message) (not (= (type this@@79) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@40|) (type |key#0@@75|))) (not (or (|Buffers.BufferStack.Query#canCall| this@@79 |key#0@@40|) (not (or (not ($Is |key#0@@40| Tclass.KeyType.Key)) (not ($Is this@@79 Tclass.Buffers.BufferStack))))))) [|key#0@@40| = |key#0@@75|, this@@79 = |dropBottom#0@0|]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), arg0@@38 = (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:ValueMessage.__default.ApplyDelta| (= (type (ValueMessage.__default.ApplyDelta arg0@@436 arg1@@180)) (type |key#0@@75|)) [arg1@@180 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))), arg0@@436 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@10)))) [bx@@10 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|funType:bool_2_U| (= (type (bool_2_U arg0@@4)) boolType) [arg0@@4 = (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) ($Box |key#0@@75|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##0@0|, |key#0@@38| = |key#0@@75|, this@@77 = |a##0@0|, $ly@@321 = $LZ]
|DafnyPreludebpl.259:19| (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@16))) (not (or (not ($IsBox bx@@16 Tclass.KeyType.Key)) (not ($IsBox (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))) bx@@16) Tclass.ValueMessage.Message))))) [bx@@16 = ($Box |key#0@@75|)]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))]
|unknown.0:0| (or (not (= (type bx@@111) BoxType)) (not ($IsBox bx@@111 Tclass.ValueMessage.Message)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111)) bx@@111)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@111) Tclass.ValueMessage.Message))))) [bx@@111 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) |i#1@@27!1364!339|), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@319 = $LZ]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), |a#7#0#0| = ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|))]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@33) (ValueMessage.Message.Update_q d@@33) (not (= (type d@@33) (type |#_System._tuple#0._#Make0|))) (not (|$IsA#ValueMessage.Message| d@@33))) [d@@33 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |a##0@0| |key#0@@75| |len##0@0|)]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = |i#1@@29!1364!340|]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))]
|funType:ValueMessage.__default.Merge| (= (type (ValueMessage.__default.Merge arg0@@372 arg1@@148)) (type |#_System._tuple#0._#Make0|)) [arg1@@148 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), arg0@@372 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), arg0@@50 = (|a#1#0#0@@4!2885!278| |top#0|)]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#8#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= ($Is (|#ValueMessage.Message.Update| |a#8#0#0@@1|) Tclass.ValueMessage.Message) ($Is |a#8#0#0@@1| Tclass.ValueMessage.Delta))) [|a#8#0#0@@1| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#7#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|DafnyPreludebpl.250:15| (or (not (= (type t0@@7) (type TBool))) (not (= (type h@@9) (type $OneHeap))) (not (= (type v@@21) (type |key#0@@75|))) (not (or (not (or (not ($IsAlloc v@@21 (TSeq t0@@7) h@@9)) (QUANT ((i@@0 Int)) (! (or ($IsAllocBox (|Seq#Index| v@@21 i@@0) t0@@7 h@@9) (>= (+ i@@0 (* (- 1) (|Seq#Length| v@@21))) 0) (not (>= i@@0 0))) :qid |DafnyPreludebpl.252:11| :pattern ((|Seq#Index| v@@21 i@@0)))))) (not (or ($IsAlloc v@@21 (TSeq t0@@7) h@@9) (not (or ($IsAllocBox (|Seq#Index| v@@21 (i@@0!413!7 h@@9 t0@@7 v@@21)) t0@@7 h@@9) (<= (+ (|Seq#Length| v@@21) (* (- 1) (i@@0!413!7 h@@9 t0@@7 v@@21))) 0) (not (>= (i@@0!413!7 h@@9 t0@@7 v@@21) 0))))))))) [h@@9 = $Heap@0, t0@@7 = Tclass.NativeTypes.byte, v@@21 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|MessagesdfyValueMessage.27:25| (or (not (= (type |oldmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0@@1| |oldmessage#0@@1|) (not (or (not ($Is |oldmessage#0@@1| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0@@1| Tclass.ValueMessage.Message)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))) (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (or (not (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.ApplyDelta#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))) (not (or (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (not (or (not (_System.Tuple2.___hMake2_q (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))) (not (|ValueMessage.__default.CombineDeltas#canCall| (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))))))))))) (not (= (ValueMessage.__default.Merge |newmessage#0@@1| |oldmessage#0@@1|) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))) (ite (ValueMessage.Message.Define_q ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (|#ValueMessage.Message.Define| (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))))) (|#ValueMessage.Message.Update| (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box |newmessage#0@@1|) ($Box |oldmessage#0@@1|)))))))))))))) [|oldmessage#0@@1| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0@@1| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|unknown.0:0| (or (not (= (type bx@@67) BoxType)) (not (= (type |_System._tuple#2$T1@@2|) (type TBool))) (not (= (type |_System._tuple#2$T0@@2|) (type TBool))) (not ($IsBox bx@@67 (Tclass._System.Tuple2 |_System._tuple#2$T0@@2| |_System._tuple#2$T1@@2|))) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@67)) bx@@67)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@67) (Tclass._System.Tuple2 |_System._tuple#2$T0@@2| |_System._tuple#2$T1@@2|)))))) [bx@@67 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))), |_System._tuple#2$T1@@2| = Tclass.ValueMessage.Message, |_System._tuple#2$T0@@2| = Tclass.KeyType.Key]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.NativeTypes.byte, v = ($Unbox intType (|Seq#Index| (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|unknown.0:0| (or (not (= (type bx@@67) BoxType)) (not (= (type |_System._tuple#2$T1@@2|) (type TBool))) (not (= (type |_System._tuple#2$T0@@2|) (type TBool))) (not ($IsBox bx@@67 (Tclass._System.Tuple2 |_System._tuple#2$T0@@2| |_System._tuple#2$T1@@2|))) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@67)) bx@@67)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@67) (Tclass._System.Tuple2 |_System._tuple#2$T0@@2| |_System._tuple#2$T1@@2|)))))) [bx@@67 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))), |_System._tuple#2$T1@@2| = Tclass.ValueMessage.Message, |_System._tuple#2$T0@@2| = Tclass.KeyType.Key]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.KeyType.Key) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))) bx@@10)))) [bx@@10 = ($Box |key#0@@75|)]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|unknown.0:0| (or (not (= (type d@@56) (type |#_System._tuple#0._#Make0|))) (not (Buffers.Buffer.Buffer_q d@@56)) (not (or (not (= (type (|a#1#0#0@@3!2858!277| d@@56)) (MapType BoxType BoxType))) (not (= d@@56 (|#Buffers.Buffer.Buffer| (|a#1#0#0@@3!2858!277| d@@56))))))) [d@@56 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = |len##0@0|, arg2@@158 = |key#0@@75|, arg1@@274 = |a##0@0|, arg0@@546 = ($LS ($LS $LZ))]
|unknown.0:0| (or (= (|ValueMessage.Delta#Equal| a@@122 b@@71) (= a@@122 b@@71)) (not (= (type b@@71) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@122) (type |#_System._tuple#0._#Make0|)))) [b@@71 = (ValueMessage.Message.delta (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))), a@@122 = (ValueMessage.Message.delta (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#4#1#0|) BoxType)) (= (|#_System._tuple#2._#Make2| (Lit |a#4#0#0|) (Lit |a#4#1#0|)) (Lit (|#_System._tuple#2._#Make2| |a#4#0#0| |a#4#1#0|))) (not (= (type |a#4#0#0|) BoxType))) [|a#4#1#0| = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))), |a#4#0#0| = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.25:28| (or (= ($IsAlloc (|#Buffers.Buffer.Buffer| |a#3#0#0@@3|) Tclass.Buffers.Buffer $h@@101) ($IsAlloc |a#3#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message) $h@@101)) (not (= (type |a#3#0#0@@3|) (MapType BoxType BoxType))) (not (= (type $h@@101) (type $OneHeap))) (not ($IsGoodHeap $h@@101))) [$h@@101 = $Heap@0, |a#3#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.NativeTypes.byte, v = ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), s@@38 = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|DafnyPreludebpl.267:19| (or (not (= (type bx@@17) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17))) (not (or (not ($IsAllocBox bx@@17 Tclass.KeyType.Key $Heap@0)) (not ($IsAllocBox (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@17) Tclass.ValueMessage.Message $Heap@0))))) [bx@@17 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|funType:Buffers.Buffer.Query| (= (type (Buffers.Buffer.Query arg0@@542 arg1@@272)) (type |#_System._tuple#0._#Make0|)) [arg1@@272 = |key#0@@75|, arg0@@542 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@0, t@@20 = Tclass.KeyType.Key, v@@0 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0| |olddelta#0|) (not (or (not ($Is |olddelta#0| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |newdelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |olddelta#0|))) (not (or (not (|ValueMessage.Delta#Equal| |olddelta#0| |#ValueMessage.Delta.NoDelta|)) (|ValueMessage.Delta#Equal| (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) |newdelta#0|))) (not ($Is (ValueMessage.__default.CombineDeltas |newdelta#0| |olddelta#0|) Tclass.ValueMessage.Delta))))) [|olddelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))), |newdelta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (Buffers.Buffer.Buffer_q d@@60) (not (= (type d@@60) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@60 Tclass.Buffers.Buffer))) [d@@60 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = |i#1@@29!1364!340|]
|DafnyPreludebpl.1159:21| (or (not (= (type m@@13) (MapType (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13))))) (= m@@13 (|Map#Empty| (MapTypeInv0 (type m@@13)) (MapTypeInv1 (type m@@13)))) (not (or (not (= (type (v@@42!623!31 m@@13)) (MapTypeInv1 (type m@@13)))) (not (U_2_bool (MapType0Select (|Map#Values| m@@13) (v@@42!623!31 m@@13))))))) [m@@13 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = |len##1@0|, |key#0@@38| = |key#0@@75|, this@@77 = |bottom#0|, $ly@@321 = ($LS $LZ)]
|funType:Map#Items| (= (type (|Map#Items| arg0@@54)) (MapType0Type BoxType boolType)) [arg0@@54 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))))]
|Buffersidfy.41:14| (or (not (= (type |key#0@@38|) (type |key#0@@75|))) (not (= (type this@@77) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@321) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| |count#0@@3|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@3|)) (not ($Is |key#0@@38| Tclass.KeyType.Key)) (not ($Is this@@77 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@3| (|Seq#Length| (Buffers.BufferStack.buffers this@@77)))))))) (not (or (not (or (= |count#0@@3| (LitInt 0)) (not (or (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1))) (not (Buffers.BufferStack.BufferStack_q this@@77)) (not (|Buffers.Buffer.Query#canCall| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)) (not (|ValueMessage.__default.Merge#canCall| (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|))))))) (not (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@321) this@@77 |key#0@@38| |count#0@@3|) (ite (= |count#0@@3| (LitInt 0)) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)) (ValueMessage.__default.Merge (Buffers.BufferStack.QueryUpTo $ly@@321 this@@77 |key#0@@38| (INTERNAL_sub_boogie |count#0@@3| 1)) (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers this@@77) (INTERNAL_sub_boogie |count#0@@3| 1))) |key#0@@38|)))))))) [|count#0@@3| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@38| = |key#0@@75|, this@@77 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|), $ly@@321 = $LZ]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| (|#ValueMessage.Message.Define| (Lit (Lit (Lit (|Seq#Empty| BoxType))))))]
|unknown.0:0| (or (not (= (type d@@62) (type |#_System._tuple#0._#Make0|))) (not (Buffers.BufferStack.BufferStack_q d@@62)) (not (or (not (= (type (|a#1#0#0@@4!2885!278| d@@62)) (type |key#0@@75|))) (not (= d@@62 (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| d@@62))))))) [d@@62 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = |key#0@@75|, |a#6#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#11#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.delta (|#ValueMessage.Message.Update| |a#11#0#0@@0|)) |a#11#0#0@@0|)) [|a#11#0#0@@0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|Buffersidfy.27:14| (or (not (= (type this@@66) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@32|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@66 |key#0@@32|) (not (or (not ($Is |key#0@@32| Tclass.KeyType.Key)) (not ($Is this@@66 Tclass.Buffers.Buffer)))))) (not (or (not (Buffers.Buffer.Buffer_q this@@66)) (not (or (Buffers.Buffer.Buffer_q this@@66) (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|)))))) (not (= (Buffers.Buffer.Query this@@66 |key#0@@32|) (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp this@@66)) ($Box |key#0@@32|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))) [|key#0@@32| = |key#0@@75|, this@@66 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##0@0|, |key#0@@36| = |key#0@@75|, this@@75 = |a##0@0|, $ly@@319 = ($LS ($LS $LZ))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@0, |s#0@@0| = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.KeyType.Key, v@@13 = (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)), |a#0#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), $ly@@319 = $LZ]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))))]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|Buffersidfy.16:19| (or (not (= (type |keys#0@@1|) (MapType0Type BoxType boolType))) (not (or (|Buffers.__default.Total#canCall| |keys#0@@1|) ($Is |keys#0@@1| (TISet Tclass.KeyType.Key)))) (not (or (not (QUANT ((|k#0@@77| T@U)) (! (or (|Buffers.__default.AnyKey#canCall| |k#0@@77|) (not (= (type |k#0@@77|) (type |key#0@@75|))) (not ($Is |k#0@@77| Tclass.KeyType.Key))) :qid |Buffersidfy.17:12| :pattern ((MapType0Select |keys#0@@1| ($Box |k#0@@77|))) :pattern ((Buffers.__default.AnyKey |k#0@@77|))))) (not (or (not (Buffers.__default.Total |keys#0@@1|)) (QUANT ((|k#0@@78| T@U)) (! (or (U_2_bool (MapType0Select |keys#0@@1| ($Box |k#0@@78|))) (not (Buffers.__default.AnyKey |k#0@@78|)) (not (= (type |k#0@@78|) (type |key#0@@75|))) (not ($Is |k#0@@78| Tclass.KeyType.Key))) :qid |Buffersidfy.17:12| :pattern ((MapType0Select |keys#0@@1| ($Box |k#0@@78|))) :pattern ((Buffers.__default.AnyKey |k#0@@78|)))))) (not (or (Buffers.__default.Total |keys#0@@1|) (not (or (U_2_bool (MapType0Select |keys#0@@1| ($Box (|k#0@@78!2937!281| |keys#0@@1|)))) (not (= (type (|k#0@@78!2937!281| |keys#0@@1|)) (type |key#0@@75|))) (not ($Is (|k#0@@78!2937!281| |keys#0@@1|) Tclass.KeyType.Key)) (not (Buffers.__default.AnyKey (|k#0@@78!2937!281| |keys#0@@1|)))))))))) [|keys#0@@1| = (|lambda#242| Tclass.KeyType.Key)]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))) ($Box (Lit (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))))))))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@319 = $LZ]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (not (= (type d@@0) (type |#_System._tuple#0._#Make0|))) (= (_System.Tuple2.___hMake2_q d@@0) (= (DatatypeCtorId d@@0) |##_System._tuple#2._#Make2|))) [d@@0 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@133 b@@83) (= a@@133 b@@83)) (not (= (type b@@83) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@133) (type |#_System._tuple#0._#Make0|)))) [b@@83 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))), a@@133 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|funType:Map#Domain| (= (type (|Map#Domain| arg0@@52)) (MapType0Type (MapTypeInv0 (type arg0@@52)) boolType)) [arg0@@52 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#0#1#0|) BoxType)) (= (DatatypeCtorId (|#_System._tuple#2._#Make2| |a#0#0#0| |a#0#1#0|)) |##_System._tuple#2._#Make2|) (not (= (type |a#0#0#0|) BoxType))) [|a#0#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), |a#0#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)), s@@38 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) ($IsBox (|Seq#Index| (|Seq#Empty| BoxType) i) Tclass.NativeTypes.byte) (>= (+ i (* (- 1) (|Seq#Length| (|Seq#Empty| BoxType)))) 0)) [i = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))))]
|funType:Map#Values| (= (type (|Map#Values| arg0@@53)) (MapType0Type (MapTypeInv1 (type arg0@@53)) boolType)) [arg0@@53 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:Buffers.BufferStack.buffers| (= (type (Buffers.BufferStack.buffers arg0@@545)) (type |key#0@@75|)) [arg0@@545 = |a##0@0|]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)]
|unknown.0:0| (or (not (= (type bx@@108) BoxType)) (not ($IsBox bx@@108 Tclass.KeyType.Key)) (not (or (not (= ($Box ($Unbox (type |key#0@@75|) bx@@108)) bx@@108)) (not ($Is ($Unbox (type |key#0@@75|) bx@@108) Tclass.KeyType.Key))))) [bx@@108 = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (Buffers.BufferStack.BufferStack_q d@@65) (not (= (type d@@65) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@65 Tclass.Buffers.BufferStack))) [d@@65 = (Buffers.BufferStack.PushBufferStack (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)), T@@0 = (type (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|funType:ValueMessage.__default.CombineDeltas| (= (type (ValueMessage.__default.CombineDeltas arg0@@435 arg1@@179)) (type |#_System._tuple#0._#Make0|)) [arg1@@179 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), arg0@@435 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|MessagesdfyValueMessage.20:33| (or (not (= (type |olddelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newdelta#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.__default.CombineDeltas |newdelta#0@@1| |olddelta#0@@1|) |#ValueMessage.Delta.NoDelta|) (not (or (|ValueMessage.__default.CombineDeltas#canCall| |newdelta#0@@1| |olddelta#0@@1|) (not (or (not ($Is |olddelta#0@@1| Tclass.ValueMessage.Delta)) (not ($Is |newdelta#0@@1| Tclass.ValueMessage.Delta))))))) [|olddelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))), |newdelta#0@@1| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |s#0@@1|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0@@1| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0@@1|) 1024))) ($Is |s#0@@1| Tclass.ValueType.Value)))) [|s#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|)))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|DafnyPreludebpl.184:18| (or (= ($IsAllocBox ($Box v@@0) t@@20 h) ($IsAlloc v@@0 t@@20 h)) (not (= (type t@@20) (type TBool))) (not (= (type h) (type $OneHeap)))) [h = $Heap@@50, t@@20 = Tclass.Buffers.Buffer, v@@0 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), arg2@@158 = |key#0@@75|, arg1@@274 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), arg0@@546 = $LZ]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|funType:ValueMessage.Message.delta| (= (type (ValueMessage.Message.delta arg0@@440)) (type |#_System._tuple#0._#Make0|)) [arg0@@440 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))), T@@0 = (type (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) i) Tclass.Buffers.Buffer)) [i = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))))]
|DafnyPreludebpl.1114:15| (or (not (>= i@@21 0)) (>= (+ i@@21 (* (- 1) (|Seq#Length| s@@38))) 0) (not (<= (+ (|Seq#Rank| s@@38) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| s@@38 i@@21))))) 0)) (not (= (type s@@38) (type |key#0@@75|)))) [i@@21 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), s@@38 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.Buffers.Buffer, v = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)), |a#6#0#0@@5| = (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))))]
|DafnyPreludebpl.929:18| (or (not (= (type s@@16) (SeqType (SeqTypeInv0 (type s@@16))))) (= s@@16 (|Seq#Empty| (SeqTypeInv0 (type s@@16)))) (not (= (|Seq#Length| s@@16) 0))) [s@@16 = (Buffers.BufferStack.buffers |b##0@0|)]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|DafnyPreludebpl.1204:15| (or (not (= (type item) BoxType)) (not (= (type m@@19) (MapType BoxType BoxType))) (not (= (or (not (U_2_bool (MapType0Select (|Map#Domain| m@@19) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) item))))) (not (= (MapType0Select (|Map#Elements| m@@19) (_System.Tuple2._0 ($Unbox (type |#_System._tuple#0._#Make0|) item))) (_System.Tuple2._1 ($Unbox (type |#_System._tuple#0._#Make0|) item))))) (U_2_bool (MapType0Select (|Map#Items| m@@19) item))))) [item = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))), m@@19 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:Buffers.Buffer.mapp| (= (type (Buffers.Buffer.mapp arg0@@541)) (MapType BoxType BoxType)) [arg0@@541 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|))))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = ($Box (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))), arg0@@546 = ($LS $LZ)]
|unknown.0:0| (or (not (= (type d@@55) (type |#_System._tuple#0._#Make0|))) (= (Buffers.Buffer.Buffer_q d@@55) (= (DatatypeCtorId d@@55) |##Buffers.Buffer.Buffer|))) [d@@55 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|MessagesdfyValueMessage.24:30| (or (not (= (type |delta#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |value#0@@0|) (type |key#0@@75|))) (not (or (|ValueMessage.__default.ApplyDelta#canCall| |delta#0| |value#0@@0|) (not (or (not ($Is |value#0@@0| Tclass.ValueType.Value)) (not ($Is |delta#0| Tclass.ValueMessage.Delta)))))) (not (or (not (or (not (|ValueMessage.Delta#Equal| |delta#0| |#ValueMessage.Delta.NoDelta|)) (|Seq#Equal| (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) |value#0@@0|))) (not ($Is (ValueMessage.__default.ApplyDelta |delta#0| |value#0@@0|) Tclass.ValueType.Value))))) [|value#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)))))), |delta#0| = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|Buffersidfy.25:28| (or (not (= (type |a#5#0#0@@4|) (MapType BoxType BoxType))) (= (Buffers.Buffer.mapp (|#Buffers.Buffer.Buffer| |a#5#0#0@@4|)) |a#5#0#0@@4|)) [|a#5#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), T@@0 = (type |key#0@@75|)]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (ValueMessage.Message.Define_q d@@34) (ValueMessage.Message.Update_q d@@34) (not (= (type d@@34) (type |#_System._tuple#0._#Make0|))) (not ($Is d@@34 Tclass.ValueMessage.Message))) [d@@34 = (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|unknown.0:0| (or (= (|ValueMessage.Message#Equal| a@@124 b@@73) (|ValueMessage.Delta#Equal| (ValueMessage.Message.delta a@@124) (ValueMessage.Message.delta b@@73))) (not (= (type b@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@124) (type |#_System._tuple#0._#Make0|))) (not (ValueMessage.Message.Update_q b@@73)) (not (ValueMessage.Message.Update_q a@@124))) [b@@73 = (Buffers.BufferStack.QueryUpTo ($LS ($LS $LZ)) |bottom#0| |key#0@@75| |len##1@0|), a@@124 = (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.272:15| (or (not (= (type v@@24) (MapType BoxType BoxType))) (not (= (type t1@@1) (type TBool))) (not (= (type t0@@10) (type TBool))) (not ($Is v@@24 (TMap t0@@10 t1@@1))) (not (or (not ($Is (|Map#Domain| v@@24) (TSet t0@@10))) (not ($Is (|Map#Values| v@@24) (TSet t1@@1))) (not ($Is (|Map#Items| v@@24) (TSet (Tclass._System.Tuple2 t0@@10 t1@@1))))))) [t1@@1 = Tclass.ValueMessage.Message, t0@@10 = Tclass.KeyType.Key, v@@24 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:Lit| (= (type (Lit arg0@@29)) (type arg0@@29)) [arg0@@29 = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.KeyType.Key, v = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) ($Box |key#0@@75|))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), T@@0 = (type |key#0@@75|)]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))]
|DafnyPreludebpl.1273:35| (or (not (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13))) (not (= (type u@@13) (MapTypeInv0 (type (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1)))))))) (= (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))))) u@@13) (MapType0Select (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) u@@13))) [u@@13 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1)))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|)))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = (Tclass._System.Tuple2 Tclass.KeyType.Key Tclass.ValueMessage.Message), v@@13 = (|Map#Items| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1)))))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), arg0@@50 = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|))]
|unknown.0:0| (or (not (= (type |s#0|) (type |key#0@@75|))) (not (= (or (not ($Is |s#0| (TSeq Tclass.NativeTypes.byte))) (not (INTERNAL_le_boogie (|Seq#Length| |s#0|) 1024))) ($Is |s#0| Tclass.KeyType.Key)))) [|s#0| = ($Unbox (type |key#0@@75|) (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|))))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) |i#1@@27!1364!339|))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)), $ly@@319 = $LZ]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))), arg0@@38 = (|Map#Elements| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|DafnyPreludebpl.221:11| (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 Tclass.ValueMessage.Message) (not (U_2_bool (MapType0Select (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) bx@@10)))) [bx@@10 = (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##1@0|, |key#0@@36| = |key#0@@75|, this@@75 = |dropBottom#0@0|, $ly@@319 = ($LS ($LS $LZ))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) |b##0@0| |key#0@@75| |len##0@0|)]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1), |a#6#0#0@@5| = (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.1275:21| (or (= m@@28 |m'@@0|) (not (|Map#Equal| m@@28 |m'@@0|)) (not (= (type m@@28) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28))))) (not (= (type |m'@@0|) (MapType (MapTypeInv0 (type m@@28)) (MapTypeInv1 (type m@@28)))))) [|m'@@0| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))), m@@28 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|unknown.0:0| (or (not (= (type |a#5#1#0|) BoxType)) (= (_System.Tuple2._0 (|#_System._tuple#2._#Make2| |a#5#0#0| |a#5#1#0|)) |a#5#0#0|) (not (= (type |a#5#0#0|) BoxType))) [|a#5#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), |a#5#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))), |a#8#0#0| = (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1)))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#2#0#0@@0|) (type |key#0@@75|))) (= ($Is (|#ValueMessage.Message.Define| |a#2#0#0@@0|) Tclass.ValueMessage.Message) ($Is |a#2#0#0@@0| Tclass.ValueType.Value))) [|a#2#0#0@@0| = (ValueMessage.__default.ApplyDelta (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)), T@@0 = (type |#_System._tuple#0._#Make0|)]
|unknown.0:0| (or (not (= (type bx@@124) BoxType)) (not ($IsBox bx@@124 Tclass.Buffers.Buffer)) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124)) bx@@124)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@124) Tclass.Buffers.Buffer))))) [bx@@124 = (|Seq#Index| (|a#1#0#0@@4!2885!278| |top#0|) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))]
|unknown.0:0| (or (not (= (type d@@27) (type |#_System._tuple#0._#Make0|))) (= (ValueMessage.Message.Define_q d@@27) (= (DatatypeCtorId d@@27) |##ValueMessage.Message.Define|))) [d@@27 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#10#0#0@@0|) (type |#_System._tuple#0._#Make0|))) (= (|#ValueMessage.Message.Update| (Lit |a#10#0#0@@0|)) (Lit (|#ValueMessage.Message.Update| |a#10#0#0@@0|)))) [|a#10#0#0@@0| = (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))))))))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|))))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|))))))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|funType:Buffers.BufferStack.QueryUpTo| (= (type (Buffers.BufferStack.QueryUpTo arg0@@546 arg1@@274 arg2@@158 arg3@@95)) (type |#_System._tuple#0._#Make0|)) [arg3@@95 = (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)), arg2@@158 = |key#0@@75|, arg1@@274 = (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))), arg0@@546 = $LZ]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)]
|DafnyPreludebpl.1025:18| (or (= a@@67 b@@51) (not (= (type a@@67) (SeqType (SeqTypeInv0 (type a@@67))))) (not (= (type b@@51) (SeqType (SeqTypeInv0 (type a@@67))))) (not (|Seq#Equal| a@@67 b@@51))) [b@@51 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))), a@@67 = (ValueMessage.Message.value (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)))))]
|Buffersidfy.48:14| (or (not (= (type this@@81) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@42|) (type |key#0@@75|))) (not (or (|Buffers.BufferStack.Query#canCall| this@@81 |key#0@@42|) (not (or (not ($Is |key#0@@42| Tclass.KeyType.Key)) (not ($Is this@@81 Tclass.Buffers.BufferStack)))))) (not (or (not (Buffers.BufferStack.BufferStack_q this@@81)) (not (|Buffers.BufferStack.QueryUpTo#canCall| this@@81 |key#0@@42| (|Seq#Length| (Buffers.BufferStack.buffers this@@81)))) (not (= (Buffers.BufferStack.Query this@@81 |key#0@@42|) (Buffers.BufferStack.QueryUpTo ($LS $LZ) this@@81 |key#0@@42| (|Seq#Length| (Buffers.BufferStack.buffers this@@81)))))))) [|key#0@@42| = |key#0@@75|, this@@81 = (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (k@@4!621!30 (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))), T@@0 = (type |key#0@@75|)]
|PagedBetreeidfy.48:32| (or (not (= (type |a#33#0#0|) (type TotalKMMapMod.__default.Witness))) (= (DatatypeCtorId (|#PagedBetree.ChildMap.ChildMap| |a#33#0#0|)) |##PagedBetree.ChildMap.ChildMap|)) [|a#33#0#0| = (|a#34#0#0!3051!291| (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|))]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1)))]
|Buffersidfy.41:14| (or (= (Buffers.BufferStack.QueryUpTo ($LS $ly@@317) this@@73 |key#0@@34| |count#0|) (Buffers.BufferStack.QueryUpTo $ly@@317 this@@73 |key#0@@34| |count#0|)) (not (= (type |key#0@@34|) (type |key#0@@75|))) (not (= (type this@@73) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@317) (type $LZ)))) [|count#0| = (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1), |key#0@@34| = |key#0@@75|, this@@73 = (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|), $ly@@317 = $LZ]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)))))]
|funType:$Unbox| (= (type ($Unbox T@@0 arg0@@34)) T@@0) [arg0@@34 = (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))), T@@0 = (type |#_System._tuple#0._#Make0|)]
|funType:#Buffers.Buffer.Buffer| (= (type (|#Buffers.Buffer.Buffer| arg0@@540)) (type |#_System._tuple#0._#Make0|)) [arg0@@540 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#12#0#0|) (type |#_System._tuple#0._#Make0|))) (not (>= (+ (DtRank |a#12#0#0|) (* (- 1) (DtRank (|#ValueMessage.Message.Update| |a#12#0#0|)))) 0))) [|a#12#0#0| = (ValueMessage.__default.CombineDeltas (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))) (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))))]
|funType:_System.Tuple2._0| (= (type (_System.Tuple2._0 arg0@@103)) BoxType) [arg0@@103 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type bx@@67) BoxType)) (not (= (type |_System._tuple#2$T1@@2|) (type TBool))) (not (= (type |_System._tuple#2$T0@@2|) (type TBool))) (not ($IsBox bx@@67 (Tclass._System.Tuple2 |_System._tuple#2$T0@@2| |_System._tuple#2$T1@@2|))) (not (or (not (= ($Box ($Unbox (type |#_System._tuple#0._#Make0|) bx@@67)) bx@@67)) (not ($Is ($Unbox (type |#_System._tuple#0._#Make0|) bx@@67) (Tclass._System.Tuple2 |_System._tuple#2$T0@@2| |_System._tuple#2$T1@@2|)))))) [bx@@67 = ($Box (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))), |_System._tuple#2$T1@@2| = Tclass.ValueMessage.Message, |_System._tuple#2$T0@@2| = Tclass.KeyType.Key]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), $ly@@319 = $LZ]
|DafnyPreludebpl.233:15| (or (not (= (type t0@@3) (type TBool))) (not (= (type v@@17) (type |key#0@@75|))) (not (or (not (or (not ($Is v@@17 (TSeq t0@@3))) (QUANT ((i Int)) (! (or ($IsBox (|Seq#Index| v@@17 i) t0@@3) (>= (+ i (* (- 1) (|Seq#Length| v@@17))) 0) (not (>= i 0))) :qid |DafnyPreludebpl.235:11| :pattern ((|Seq#Index| v@@17 i)))))) (not (or ($Is v@@17 (TSeq t0@@3)) (not (or ($IsBox (|Seq#Index| v@@17 (i!405!3 t0@@3 v@@17)) t0@@3) (<= (+ (|Seq#Length| v@@17) (* (- 1) (i!405!3 t0@@3 v@@17))) 0) (not (>= (i!405!3 t0@@3 v@@17) 0))))))))) [t0@@3 = Tclass.NativeTypes.byte, v@@17 = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))), |key#0@@36| = |key#0@@75|, this@@75 = (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)), $ly@@319 = ($LS $LZ)]
|DafnyPreludebpl.1419:51| (= (INTERNAL_le_boogie x@@48 y@@18) (>= (+ y@@18 (* (- 1) x@@48)) 0)) [y@@18 = 1024, x@@48 = (|Seq#Length| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))))]
|Buffersidfy.25:28| (or (not (= (type |a#0#0#0@@3|) (MapType BoxType BoxType))) (= (DatatypeCtorId (|#Buffers.Buffer.Buffer| |a#0#0#0@@3|)) |##Buffers.Buffer.Buffer|)) [|a#0#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))]
|Buffersidfy.41:14| (or ($Is (Buffers.BufferStack.QueryUpTo $ly@@319 this@@75 |key#0@@36| |count#0@@1|) Tclass.ValueMessage.Message) (not (= (type |key#0@@36|) (type |key#0@@75|))) (not (= (type this@@75) (type |#_System._tuple#0._#Make0|))) (not (= (type $ly@@319) (type $LZ))) (not (or (|Buffers.BufferStack.QueryUpTo#canCall| this@@75 |key#0@@36| |count#0@@1|) (not (or (not (INTERNAL_le_boogie 0 |count#0@@1|)) (not ($Is |key#0@@36| Tclass.KeyType.Key)) (not ($Is this@@75 Tclass.Buffers.BufferStack)) (not (INTERNAL_le_boogie |count#0@@1| (|Seq#Length| (Buffers.BufferStack.buffers this@@75))))))))) [|count#0@@1| = |len##1@0|, |key#0@@36| = |key#0@@75|, this@@75 = |bottom#0|, $ly@@319 = ($LS $LZ)]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#0#0#0@@0|) (type |key#0@@75|))) (= (DatatypeCtorId (|#ValueMessage.Message.Define| |a#0#0#0@@0|)) |##ValueMessage.Message.Define|)) [|a#0#0#0@@0| = (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0) ($IsBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i) Tclass.Buffers.Buffer)) [i = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = |i#1@@29!1364!340|, arg0@@50 = (Buffers.BufferStack.buffers |bottom#0|)]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Domain| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|unknown.0:0| (or (= ($IsAlloc |s#0@@0| Tclass.KeyType.Key $h@@68) ($IsAlloc |s#0@@0| (TSeq Tclass.NativeTypes.byte) $h@@68)) (not (= (type $h@@68) (type $OneHeap))) (not (= (type |s#0@@0|) (type |key#0@@75|)))) [$h@@68 = $Heap@0, |s#0@@0| = ($Unbox (type |key#0@@75|) (u@@5!630!34 (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))) |key#0@@75|)))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#6#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (|a#1#0#0@@4!2885!278| |bottom#0|) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)))) 0)) [i@@0 = (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))]
|MessagesdfyValueMessage.18:14| (or (not (= (type |a#6#0#0@@1|) (type |#_System._tuple#0._#Make0|))) (= (DatatypeCtorId (|#ValueMessage.Message.Update| |a#6#0#0@@1|)) |##ValueMessage.Message.Update|)) [|a#6#0#0@@1| = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))))))))))))))))]
|DafnyPreludebpl.252:11| (or (not (>= i@@0 0)) ($IsAllocBox (|Seq#Index| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)) i@@0) Tclass.Buffers.Buffer $Heap@@50) (>= (+ i@@0 (* (- 1) (|Seq#Length| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))) 0)) [i@@0 = (+ (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|)))))]
|Buffersidfy.39:38| (or (not (= (type |a#7#0#0@@5|) (type |key#0@@75|))) (not (>= (+ (|Seq#Rank| |a#7#0#0@@5|) (* (- 1) (DtRank (|#Buffers.BufferStack.BufferStack| |a#7#0#0@@5|)))) 0))) [|a#7#0#0@@5| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|)))))]
|MessagesdfyValueMessage.27:25| (or ($Is (ValueMessage.__default.Merge |newmessage#0| |oldmessage#0|) Tclass.ValueMessage.Message) (not (= (type |oldmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (= (type |newmessage#0|) (type |#_System._tuple#0._#Make0|))) (not (or (|ValueMessage.__default.Merge#canCall| |newmessage#0| |oldmessage#0|) (not (or (not ($Is |oldmessage#0| Tclass.ValueMessage.Message)) (not ($Is |newmessage#0| Tclass.ValueMessage.Message))))))) [|oldmessage#0| = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|), |newmessage#0| = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))]
|MessagesdfyValueMessage.17:14| (or (not (= (type |a#5#0#0@@1|) (type |key#0@@75|))) (= (ValueMessage.Message.value (|#ValueMessage.Message.Define| |a#5#0#0@@1|)) |a#5#0#0@@1|)) [|a#5#0#0@@1| = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))) |key#0@@75|))))))]
|Buffersidfy.25:28| (or (not (>= (+ (DtRank d@@58) (* (- 1) (DtRank (|#Buffers.Buffer.Buffer| |a#6#0#0@@4|)))) 0)) (not (= (type |a#6#0#0@@4|) (MapType BoxType BoxType))) (not (= (type d@@58) (type |#_System._tuple#0._#Make0|))) (not (U_2_bool (MapType0Select (|Map#Domain| |a#6#0#0@@4|) ($Box d@@58))))) [d@@58 = ($Unbox (type |key#0@@75|) (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1)))))), |a#6#0#0@@4| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#6#1#0|) BoxType)) (not (>= (+ (BoxRank |a#6#0#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#6#0#0| |a#6#1#0|)))) 0)) (not (= (type |a#6#0#0|) BoxType))) [|a#6#1#0| = ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1))) |key#0@@75|)), |a#6#0#0| = ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))]
|funType:Seq#Index| (= (type (|Seq#Index| arg0@@50 arg1@@16)) (SeqTypeInv0 (type arg0@@50))) [arg1@@16 = (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1), arg0@@50 = (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))]
|funType:int_2_U| (= (type (int_2_U arg0@@0)) intType) [arg0@@0 = (U_2_int ($Unbox intType (|Seq#Index| (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (j!590!28 (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |top#0| |key#0@@75|)) ($Box (Buffers.BufferStack.Query |bottom#0| |key#0@@75|)))))) (|a#1#0#0@@0!2006!223| ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))))))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (|a#7#0#0@@1!2015!224| (ite (U_2_bool (MapType0Select (|Map#Domain| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) ($Box |key#0@@75|))) (|#ValueMessage.Message.Update| (Lit |#ValueMessage.Delta.NoDelta|))))]
|unknown.0:0| (or (= (|Buffers.Buffer#Equal| a@@132 b@@82) (|Map#Equal| (Buffers.Buffer.mapp a@@132) (Buffers.Buffer.mapp b@@82))) (not (= (type b@@82) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@132) (type |#_System._tuple#0._#Make0|)))) [b@@82 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |b##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))), a@@132 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |a##0@0|) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|unknown.0:0| (or (not (= (type |a#8#1#0|) BoxType)) (not (>= (+ (BoxRank |a#8#1#0|) (* (- 1) (DtRank (|#_System._tuple#2._#Make2| |a#8#0#0| |a#8#1#0|)))) 0)) (not (= (type |a#8#0#0|) BoxType))) [|a#8#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|)))), |a#8#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1))) |key#0@@75|))))]
|DafnyPreludebpl.1270:21| (or (not (or (not (or (not (|Map#Equal| m@@27 |m'|)) (not (or (not (QUANT ((u@@12 T@U)) (! (or (not (= (type u@@12) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@12)) (U_2_bool (MapType0Select (|Map#Domain| |m'|) u@@12)))) :qid |DafnyPreludebpl.1272:35| :pattern ((MapType0Select (|Map#Domain| m@@27) u@@12)) :pattern ((MapType0Select (|Map#Domain| |m'|) u@@12))))) (not (QUANT ((u@@13 T@U)) (! (or (= (MapType0Select (|Map#Elements| m@@27) u@@13) (MapType0Select (|Map#Elements| |m'|) u@@13)) (not (= (type u@@13) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) u@@13)))) :qid |DafnyPreludebpl.1273:35| :pattern ((MapType0Select (|Map#Elements| m@@27) u@@13)) :pattern ((MapType0Select (|Map#Elements| |m'|) u@@13)) :pattern ((MapType0Select (|Map#Domain| m@@27) u@@13))))))))) (not (or (|Map#Equal| m@@27 |m'|) (not (or (not (= (type (u@@12!645!36 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (= (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@12!645!36 |m'| m@@27))) (U_2_bool (MapType0Select (|Map#Domain| |m'|) (u@@12!645!36 |m'| m@@27)))))) (not (or (= (MapType0Select (|Map#Elements| m@@27) (u@@13!646!37 |m'| m@@27)) (MapType0Select (|Map#Elements| |m'|) (u@@13!646!37 |m'| m@@27))) (not (= (type (u@@13!646!37 |m'| m@@27)) (MapTypeInv0 (type m@@27)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@27) (u@@13!646!37 |m'| m@@27)))))))))) (not (= (type m@@27) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27))))) (not (= (type |m'|) (MapType (MapTypeInv0 (type m@@27)) (MapTypeInv1 (type m@@27)))))) [|m'| = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |bottom#0|) |i#1@@29!1364!340|))), m@@27 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers |dropBottom#0@0|) |i#1@@29!1364!340|)))]
|DafnyPreludebpl.1414:30| (= (+ y@@13 (* (- 1) x@@43) (INTERNAL_sub_boogie x@@43 y@@13)) 0) [y@@13 = 1, x@@43 = (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))]
|funType:#ValueMessage.Message.Update| (= (type (|#ValueMessage.Message.Update| arg0@@441)) (type |#_System._tuple#0._#Make0|)) [arg0@@441 = (Lit (ValueMessage.__default.CombineDeltas (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))))))))))) (Lit (ValueMessage.Message.delta (Lit ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (Lit (|#_System._tuple#2._#Make2| ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))) ($Box (Lit (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))))))))))))]
|DafnyPreludebpl.925:18| (or (not (= (type s@@15) (SeqType (SeqTypeInv0 (type s@@15))))) (>= (|Seq#Length| s@@15) 0)) [s@@15 = (Buffers.BufferStack.buffers |b##0@0|)]
|funType:MapType0Select| (= (type (MapType0Select arg0@@38 arg1@@6)) (MapType0TypeInv1 (type arg0@@38))) [arg1@@6 = ($Box |key#0@@75|), arg0@@38 = (|Map#Elements| (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1)))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|)) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|Buffersidfy.25:28| (or (not (= (type bx@@158) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| |a#7#0#0@@4|) bx@@158))) (not (= (type |a#7#0#0@@4|) (MapType BoxType BoxType))) (not (<= (+ (DtRank (|#Buffers.Buffer.Buffer| |a#7#0#0@@4|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (MapType0Select (|Map#Elements| |a#7#0#0@@4|) bx@@158))))) 0))) [bx@@158 = ($Box |key#0@@75|), |a#7#0#0@@4| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1))))]
|DafnyPreludebpl.181:18| (or (not (= (type t@@19) (type TBool))) (= ($IsBox ($Box v) t@@19) ($Is v t@@19))) [t@@19 = Tclass.ValueMessage.Message, v = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.235:11| (or (not (>= i 0)) (>= (+ i (* (- 1) (|Seq#Length| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|))))) 0) ($IsBox (|Seq#Index| (|a#1#0#0@@4!2885!278| (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) i) Tclass.Buffers.Buffer)) [i = (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)]
|unknown.0:0| (or (not (= (type |a#4#1#0|) BoxType)) (= (|#_System._tuple#2._#Make2| (Lit |a#4#0#0|) (Lit |a#4#1#0|)) (Lit (|#_System._tuple#2._#Make2| |a#4#0#0| |a#4#1#0|))) (not (= (type |a#4#0#0|) BoxType))) [|a#4#1#0| = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))), |a#4#0#0| = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1)))]
|funType:ValueMessage.__default.ApplyDelta| (= (type (ValueMessage.__default.ApplyDelta arg0@@436 arg1@@180)) (type |key#0@@75|)) [arg1@@180 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._1 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|)))))), arg0@@436 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.Query |dropBottom#0@0| |key#0@@75|)) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))) |key#0@@75|))))))]
|unknown.0:0| (or (not (= (type |a#7#1#0|) BoxType)) (= (_System.Tuple2._1 (|#_System._tuple#2._#Make2| |a#7#0#0| |a#7#1#0|)) |a#7#1#0|) (not (= (type |a#7#0#0|) BoxType))) [|a#7#1#0| = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))), |a#7#0#0| = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|))))]
|unknown.0:0| (or (not (= (type |a#4#1#0|) BoxType)) (= (|#_System._tuple#2._#Make2| (Lit |a#4#0#0|) (Lit |a#4#1#0|)) (Lit (|#_System._tuple#2._#Make2| |a#4#0#0| |a#4#1#0|))) (not (= (type |a#4#0#0|) BoxType))) [|a#4#1#0| = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))))))), |a#4#0#0| = ($Box (Buffers.BufferStack.QueryUpTo ($LS $LZ) (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType))) |key#0@@75| (|Seq#Length| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Lit (|Seq#Empty| BoxType)))))))]
|Buffersidfy.25:28| (or (not (= (type |a#2#0#0@@3|) (MapType BoxType BoxType))) (= ($Is (|#Buffers.Buffer.Buffer| |a#2#0#0@@3|) Tclass.Buffers.Buffer) ($Is |a#2#0#0@@3| (TMap Tclass.KeyType.Key Tclass.ValueMessage.Message)))) [|a#2#0#0@@3| = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1))))]
|Buffersidfy.39:38| (or (not (= (type |a#5#0#0@@5|) (type |key#0@@75|))) (= (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| |a#5#0#0@@5|)) |a#5#0#0@@5|)) [|a#5#0#0@@5| = (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))]
|funType:DatatypeCtorId| (= (type (DatatypeCtorId arg0@@223)) (type |##_System._tuple#2._#Make2|)) [arg0@@223 = ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|)))))]
|PagedBetreeidfy.48:32| (or (not (= (type |a#35#0#0|) (type TotalKMMapMod.__default.Witness))) (= ($Is (|#PagedBetree.ChildMap.ChildMap| |a#35#0#0|) Tclass.PagedBetree.ChildMap) ($Is |a#35#0#0| (TIMap Tclass.KeyType.Key Tclass.PagedBetree.BetreeNode)))) [|a#35#0#0| = (|a#34#0#0!3051!291| (PagedBetree.__default.ConstantChildMap |#PagedBetree.BetreeNode.Nil|))]
|Buffersidfy.27:14| (or ($Is (Buffers.Buffer.Query this@@64 |key#0@@30|) Tclass.ValueMessage.Message) (not (= (type this@@64) (type |#_System._tuple#0._#Make0|))) (not (= (type |key#0@@30|) (type |key#0@@75|))) (not (or (|Buffers.Buffer.Query#canCall| this@@64 |key#0@@30|) (not (or (not ($Is |key#0@@30| Tclass.KeyType.Key)) (not ($Is this@@64 Tclass.Buffers.Buffer))))))) [|key#0@@30| = |key#0@@75|, this@@64 = ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |dropBottom#0@0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |a##0@0|)) 1) 1)))]
|DafnyPreludebpl.1037:18| (or (>= (+ j@@1 (* (- 1) (|Seq#Length| s@@28))) 0) (not (>= j@@1 0)) (>= (+ j@@1 (* (- 1) n@@12)) 0) (= (|Seq#Index| (|Seq#Take| s@@28 n@@12) j@@1) (|Seq#Index| s@@28 j@@1)) (not (= (type s@@28) (SeqType (SeqTypeInv0 (type s@@28)))))) [j@@1 = (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)), n@@12 = (INTERNAL_sub_boogie (|Seq#Length| (|a#1#0#0@@4!2885!278| |bottom#0|)) 1), s@@28 = (|a#1#0#0@@4!2885!278| |bottom#0|)]
|DafnyPreludebpl.256:15| (or (not (= (type v@@22) (MapType BoxType BoxType))) (not (= (type t1) (type TBool))) (not (= (type t0@@8) (type TBool))) (not (or (not (or (not ($Is v@@22 (TMap t0@@8 t1))) (QUANT ((bx@@16 T@U)) (! (or (not (= (type bx@@16) BoxType)) (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) bx@@16))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) bx@@16) t1)) (not ($IsBox bx@@16 t0@@8))))) :qid |DafnyPreludebpl.259:19| :pattern ((MapType0Select (|Map#Elements| v@@22) bx@@16)) :pattern ((MapType0Select (|Map#Domain| v@@22) bx@@16)))))) (not (or ($Is v@@22 (TMap t0@@8 t1)) (not (or (not (U_2_bool (MapType0Select (|Map#Domain| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)))) (not (or (not ($IsBox (MapType0Select (|Map#Elements| v@@22) (bx@@16!415!8 t1 t0@@8 v@@22)) t1)) (not ($IsBox (bx@@16!415!8 t1 t0@@8 v@@22) t0@@8)))) (not (= (type (bx@@16!415!8 t1 t0@@8 v@@22)) BoxType))))))))) [t1 = Tclass.ValueMessage.Message, t0@@8 = Tclass.KeyType.Key, v@@22 = (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|DafnyPreludebpl.219:15| (or (not (= (type t0) (type TBool))) (not (or (not (or (not ($Is v@@13 (TSet t0))) (QUANT ((bx@@10 T@U)) (! (or (not (= (type bx@@10) BoxType)) ($IsBox bx@@10 t0) (not (U_2_bool (MapType0Select v@@13 bx@@10)))) :qid |DafnyPreludebpl.221:11| :pattern ((MapType0Select v@@13 bx@@10)))))) (not (or ($Is v@@13 (TSet t0)) (not (or ($IsBox (bx@@10!398!0 t0 v@@13) t0) (not (= (type (bx@@10!398!0 t0 v@@13)) BoxType)) (not (U_2_bool (MapType0Select v@@13 (bx@@10!398!0 t0 v@@13)))))))))) (not (= (type v@@13) (MapType0Type BoxType boolType)))) [t0 = Tclass.ValueMessage.Message, v@@13 = (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1) 1)))))]
|funType:ValueMessage.Message.value| (= (type (ValueMessage.Message.value arg0@@439)) (type |key#0@@75|)) [arg0@@439 = (Buffers.BufferStack.QueryUpTo ($LS $LZ) (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1))]
|unknown.0:0| (or (|ValueMessage.Delta#Equal| a@@121 b@@70) (not (= (type b@@70) (type |#_System._tuple#0._#Make0|))) (not (= (type a@@121) (type |#_System._tuple#0._#Make0|)))) [b@@70 = |#ValueMessage.Delta.NoDelta|, a@@121 = (ValueMessage.Message.delta ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |b##0@0|)) 1))) |key#0@@75|))))))]
|funType:#_System._tuple#2._#Make2| (= (type (|#_System._tuple#2._#Make2| arg0@@102 arg1@@44)) (type |#_System._tuple#0._#Make0|)) [arg1@@44 = (|a#1#1#0!965!172| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)))), arg0@@102 = (|a#1#0#0!965!173| (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|))))]
|cast:U_2_bool| (or (not (= (type x@@1) boolType)) (= (bool_2_U (U_2_bool x@@1)) x@@1)) [x@@1 = (MapType0Select (|Map#Values| (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))) (v@@42!623!31 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))))))]
|DafnyPreludebpl.352:15| (or (not (= (type d) (type |#_System._tuple#0._#Make0|))) (= (BoxRank ($Box d)) (DtRank d))) [d = (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (Sequences.__default.DropLast Tclass.Buffers.Buffer (Buffers.BufferStack.buffers |bottom#0|)))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |dropBottom#0@0|)) 1))) |key#0@@75|)]
|funType:$Box| (= (type ($Box arg0@@30)) BoxType) [arg0@@30 = (|#_System._tuple#2._#Make2| (k@@5!625!33 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|)) 1))))))]
|DafnyPreludebpl.141:18| (= ($Unbox (type x@@14) ($Box x@@14)) x@@14) [x@@14 = ($Unbox (type |#_System._tuple#0._#Make0|) (v@@43!625!32 (|a#1#0#0@@3!2858!277| ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))))))]
|DafnyPreludebpl.1156:21| (or (not (= (type m@@12) (MapType (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12))))) (= m@@12 (|Map#Empty| (MapTypeInv0 (type m@@12)) (MapTypeInv1 (type m@@12)))) (not (or (not (= (type (k@@4!621!30 m@@12)) (MapTypeInv0 (type m@@12)))) (not (U_2_bool (MapType0Select (|Map#Domain| m@@12) (k@@4!621!30 m@@12))))))) [m@@12 = (Buffers.Buffer.mapp ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))))]
|funType:#ValueMessage.Message.Define| (= (type (|#ValueMessage.Message.Define| arg0@@371)) (type |#_System._tuple#0._#Make0|)) [arg0@@371 = (ValueMessage.Message.value ($Unbox (type |#_System._tuple#0._#Make0|) (_System.Tuple2._0 (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|) |key#0@@75| (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (Buffers.BufferStack.PushBufferStack |bottom#0| |top#0|)) (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_sub_boogie (INTERNAL_add_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) (|Seq#Length| (Buffers.BufferStack.buffers |bottom#0|))) 1) 1) 1))) |key#0@@75|))))))]
|funType:_System.Tuple2._1| (= (type (_System.Tuple2._1 arg0@@104)) BoxType) [arg0@@104 = (|#_System._tuple#2._#Make2| ($Box (Buffers.BufferStack.QueryUpTo $LZ (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|))))) |key#0@@75| (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) ($Box (Buffers.Buffer.Query ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (INTERNAL_sub_boogie (|Seq#Length| (Buffers.BufferStack.buffers |top#0|)) 1))) |key#0@@75|)))]
|Buffersidfy.39:38| (or (not (>= i@@25 0)) (>= (+ i@@25 (* (- 1) (|Seq#Length| |a#6#0#0@@5|))) 0) (not (<= (+ (DtRank (|#Buffers.BufferStack.BufferStack| |a#6#0#0@@5|)) (* (- 1) (DtRank ($Unbox (type |#_System._tuple#0._#Make0|) (|Seq#Index| |a#6#0#0@@5| i@@25))))) 0)) (not (= (type |a#6#0#0@@5|) (type |key#0@@75|)))) [i@@25 = (+ (* (- 1) (|Seq#Length| (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))) (j!590!28 (|a#1#0#0@@4!2885!278| |top#0|) (|Seq#Append| (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |top#0|))) (Buffers.BufferStack.buffers (|#Buffers.BufferStack.BufferStack| (|a#1#0#0@@4!2885!278| |bottom#0|)))))), |a#6#0#0@@5| = (|Seq#Empty| BoxType)]
